{"ast":null,"code":"import { DOCUMENT } from \"@angular/common\";\nimport { stepper, src } from \"../../shared\";\nimport { CreateBoardComponent } from \"./create-board/create-board.component\";\nimport { CreateProjectComponent } from \"./create-project/create-project.component\";\nimport { CreateIssueTypesComponent } from \"./create-issue-types/create-issue-types.component\";\nimport { AddUsersComponent } from \"./add-users/add-users.component\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/core/services/stepper.next.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@angular/material/stepper\";\nimport * as i5 from \"@angular/material/button\";\nimport * as i6 from \"./create-project/create-project.component\";\nimport * as i7 from \"./create-board/create-board.component\";\nimport * as i8 from \"./create-issue-types/create-issue-types.component\";\nimport * as i9 from \"./add-users/add-users.component\";\nconst _c0 = [\"header\"];\nconst _c1 = [\"backgroundImg\"];\nfunction StepperComponent_ng_template_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0, \"Project\");\n  }\n}\nfunction StepperComponent_ng_template_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0, \"Board\");\n  }\n}\nfunction StepperComponent_ng_template_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0, \"Issue Type\");\n  }\n}\nfunction StepperComponent_ng_template_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0, \"Users\");\n  }\n}\nfunction StepperComponent_ng_template_23_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0, \"Done\");\n  }\n}\nfunction StepperComponent_ng_template_33_span_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 19);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const i_r12 = ctx.index;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", i_r12 + 1, \" \");\n  }\n}\nfunction StepperComponent_ng_template_33_p_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 20);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const inf_r13 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", inf_r13.description1, \" \");\n  }\n}\nfunction StepperComponent_ng_template_33_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 15)(1, \"h1\");\n    i0.ɵɵtext(2, \"Step \");\n    i0.ɵɵelementStart(3, \"span\", 16);\n    i0.ɵɵtemplate(4, StepperComponent_ng_template_33_span_4_Template, 2, 1, \"span\", 17);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(5, \"div\");\n    i0.ɵɵtemplate(6, StepperComponent_ng_template_33_p_6_Template, 2, 1, \"p\", 18);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r8 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r8.stepsCountArray);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r8.stepperInfo);\n  }\n}\nexport class StepperComponent {\n  constructor(stepperService, viewContainer, elRef, document) {\n    this.stepperService = stepperService;\n    this.viewContainer = viewContainer;\n    this.elRef = elRef;\n    this.document = document;\n    this.isEditable = true;\n    this.nextStepOpen$ = this.stepperService.nextStepOpen$;\n    this.linear = this.stepperService.isLinear$;\n    this.completed = this.stepperService.isCompleted$;\n    this.stepsCountArray = [];\n    this.activeIndex = 1; // shesacvleli iqneba tu davimaxsovrebt actiur steps refreshamde // localStorage\n    this.src = src;\n    this.srcIndex = 0;\n    this.stepperInfo = stepper;\n  }\n  ngOnInit() {}\n  goBack() {\n    this.stepperService.changeFromLinear();\n    this.stepperService.openNextStep(3);\n    setTimeout(() => {\n      this.stepperService.changeToLinear();\n    }, 500);\n  }\n  ngAfterViewInit() {\n    setTimeout(() => {\n      this.headerTemplate = this.viewContainer.createEmbeddedView(this.header).rootNodes[0];\n      const headerContainer = this.elRef.nativeElement.querySelector('.mat-horizontal-stepper-header-container');\n      headerContainer?.prepend(this.headerTemplate);\n      const div = document.createElement('div');\n      div.classList.add('custom-line');\n      const linesCollection = document.getElementsByClassName('mat-stepper-horizontal-line');\n      linesCollection[0].appendChild(div);\n    }, 100);\n    this.stepsCount = this.document.getElementsByClassName('mat-horizontal-stepper-content').length;\n    this.stepsCountArray.length = this.stepsCount;\n    // this.getSteps()\n    this.activeComponent();\n  }\n  getActiveStep(event) {\n    this.activeIndex = event.selectedIndex + 1;\n    Array.from(document.getElementsByClassName('counter')).forEach(item => {\n      item.setAttribute(\"style\", `transform: translateY(-${event.selectedIndex * 2}rem`);\n    });\n    Array.from(document.getElementsByClassName('description-1')).forEach(item => {\n      item.setAttribute(\"style\", `transform: translateX(-${event.selectedIndex * 100}%`);\n    });\n    const customLine = document.querySelector('.custom-line');\n    const label = document.querySelectorAll('.mat-step-label');\n    const linesCollection = document.getElementsByClassName('mat-stepper-horizontal-line');\n    const height = linesCollection[0].getBoundingClientRect().height;\n    let index = 0;\n    this.bgImg.nativeElement.classList.add('img');\n    setTimeout(() => {\n      Array.from(label).forEach((lab, i) => {\n        if (lab.classList.contains('mat-step-label-selected')) {\n          setTimeout(() => {\n            this.srcIndex = i;\n            setTimeout(() => {\n              this.bgImg.nativeElement.classList.remove('img');\n            }, 400);\n          }, 300);\n          index = i;\n        }\n      });\n      customLine.style.height = height * index + 30 * index + 'px';\n    }, 100);\n    this.activeComponent();\n  }\n  activeComponent() {\n    switch (this.activeIndex - 1) {\n      case 0:\n        this.project.projectComponent(0);\n        break;\n      case 1:\n        this.board.boardComponent(1);\n        break;\n      case 2:\n        this.issue.issueComponent(2);\n        break;\n      case 3:\n        this.users.usersComponent(3);\n        break;\n    }\n  }\n}\nStepperComponent.ɵfac = function StepperComponent_Factory(t) {\n  return new (t || StepperComponent)(i0.ɵɵdirectiveInject(i1.StepperNextService), i0.ɵɵdirectiveInject(i0.ViewContainerRef), i0.ɵɵdirectiveInject(i0.ElementRef), i0.ɵɵdirectiveInject(DOCUMENT));\n};\nStepperComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: StepperComponent,\n  selectors: [[\"app-stepper\"]],\n  viewQuery: function StepperComponent_Query(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵviewQuery(_c0, 5);\n      i0.ɵɵviewQuery(_c1, 5);\n      i0.ɵɵviewQuery(CreateProjectComponent, 5);\n      i0.ɵɵviewQuery(CreateBoardComponent, 5);\n      i0.ɵɵviewQuery(CreateIssueTypesComponent, 5);\n      i0.ɵɵviewQuery(AddUsersComponent, 5);\n    }\n    if (rf & 2) {\n      let _t;\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.header = _t.first);\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.bgImg = _t.first);\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.project = _t.first);\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.board = _t.first);\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.issue = _t.first);\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.users = _t.first);\n    }\n  },\n  decls: 35,\n  vars: 11,\n  consts: [[\"routerLink\", \"\"], [\"alt\", \"background\", 3, \"src\"], [\"backgroundImg\", \"\"], [1, \"stepper\", 3, \"linear\", \"selectedIndex\", \"selectionChange\"], [\"stepper\", \"\"], [3, \"editable\"], [\"matStepLabel\", \"\"], [1, \"done\"], [1, \"flex\"], [1, \"margin-auto\"], [1, \"para\"], [\"mat-button\", \"\", \"matStepperPrevious\", \"\", 3, \"click\"], [\"mat-button\", \"\", 3, \"click\"], [\"mat-button\", \"\", \"matStepperNext\", \"\", \"routerLink\", \"/application/current\", 2, \"background-color\", \"#303f9f\"], [\"header\", \"\"], [1, \"step-header\"], [1, \"span\"], [\"class\", \"counter\", 4, \"ngFor\", \"ngForOf\"], [\"class\", \"description-1\", 4, \"ngFor\", \"ngForOf\"], [1, \"counter\"], [1, \"description-1\"]],\n  template: function StepperComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      const _r14 = i0.ɵɵgetCurrentView();\n      i0.ɵɵelementStart(0, \"a\", 0);\n      i0.ɵɵtext(1, \"Home\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(2, \"img\", 1, 2);\n      i0.ɵɵelementStart(4, \"mat-stepper\", 3, 4);\n      i0.ɵɵlistener(\"selectionChange\", function StepperComponent_Template_mat_stepper_selectionChange_4_listener($event) {\n        return ctx.getActiveStep($event);\n      });\n      i0.ɵɵpipe(6, \"async\");\n      i0.ɵɵpipe(7, \"async\");\n      i0.ɵɵelementStart(8, \"mat-step\", 5);\n      i0.ɵɵtemplate(9, StepperComponent_ng_template_9_Template, 1, 0, \"ng-template\", 6);\n      i0.ɵɵelement(10, \"app-create-project\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(11, \"mat-step\", 5);\n      i0.ɵɵtemplate(12, StepperComponent_ng_template_12_Template, 1, 0, \"ng-template\", 6);\n      i0.ɵɵelement(13, \"app-create-board\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(14, \"mat-step\", 5);\n      i0.ɵɵtemplate(15, StepperComponent_ng_template_15_Template, 1, 0, \"ng-template\", 6);\n      i0.ɵɵelement(16, \"app-create-issue-types\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(17, \"mat-step\", 5);\n      i0.ɵɵtemplate(18, StepperComponent_ng_template_18_Template, 1, 0, \"ng-template\", 6);\n      i0.ɵɵelement(19, \"app-add-users\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(20, \"mat-step\", 7)(21, \"div\", 8)(22, \"div\", 9);\n      i0.ɵɵtemplate(23, StepperComponent_ng_template_23_Template, 1, 0, \"ng-template\", 6);\n      i0.ɵɵelementStart(24, \"p\", 10);\n      i0.ɵɵtext(25, \"Great, your project is now being created!\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(26, \"div\")(27, \"button\", 11);\n      i0.ɵɵlistener(\"click\", function StepperComponent_Template_button_click_27_listener() {\n        return ctx.goBack();\n      });\n      i0.ɵɵtext(28, \"Back\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(29, \"button\", 12);\n      i0.ɵɵlistener(\"click\", function StepperComponent_Template_button_click_29_listener() {\n        i0.ɵɵrestoreView(_r14);\n        const _r1 = i0.ɵɵreference(5);\n        return i0.ɵɵresetView(_r1.reset());\n      });\n      i0.ɵɵtext(30, \"Reset\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(31, \"button\", 13);\n      i0.ɵɵtext(32, \"Finish\");\n      i0.ɵɵelementEnd()()()()()();\n      i0.ɵɵtemplate(33, StepperComponent_ng_template_33_Template, 7, 2, \"ng-template\", null, 14, i0.ɵɵtemplateRefExtractor);\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"src\", ctx.src[ctx.srcIndex], i0.ɵɵsanitizeUrl);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"linear\", i0.ɵɵpipeBind1(6, 7, ctx.linear))(\"selectedIndex\", i0.ɵɵpipeBind1(7, 9, ctx.nextStepOpen$));\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"editable\", ctx.isEditable);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"editable\", ctx.isEditable);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"editable\", ctx.isEditable);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"editable\", ctx.isEditable);\n    }\n  },\n  dependencies: [i2.NgForOf, i3.RouterLink, i4.MatStep, i4.MatStepLabel, i4.MatStepper, i4.MatStepperNext, i4.MatStepperPrevious, i5.MatButton, i6.CreateProjectComponent, i7.CreateBoardComponent, i8.CreateIssueTypesComponent, i9.AddUsersComponent, i2.AsyncPipe],\n  styles: [\"[_ngcontent-%COMP%]:root{display:flex;justify-content:center;align-items:center;position:relative}img[_ngcontent-%COMP%]{position:absolute;right:50px;bottom:50px;z-index:0;opacity:1;pointer-events:none;transition:.3s}img.img[_ngcontent-%COMP%]{opacity:0}.finishBtn[_ngcontent-%COMP%]{background-color:#303f9f}\"]\n});","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}