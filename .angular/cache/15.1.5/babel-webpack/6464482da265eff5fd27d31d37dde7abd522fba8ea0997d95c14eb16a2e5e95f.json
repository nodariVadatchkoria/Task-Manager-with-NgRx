{"ast":null,"code":"import { of, Subject, switchMap, takeUntil } from \"rxjs\";\nimport { MatTableDataSource } from \"@angular/material/table\";\nimport { ConfirmDeleteComponent } from \"../../../../shared/confirm-delete/confirm-delete.component\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../../../core/services/board.service\";\nimport * as i2 from \"@angular/material/dialog\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@angular/material/button\";\nimport * as i5 from \"@angular/material/table\";\nfunction ProjectBoardComponent_th_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 12);\n    i0.ɵɵtext(1, \" Id\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ProjectBoardComponent_td_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 13);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const element_r10 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", element_r10.id, \" \");\n  }\n}\nfunction ProjectBoardComponent_th_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 12);\n    i0.ɵɵtext(1, \" Name\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ProjectBoardComponent_td_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 13);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const element_r11 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", element_r11.name, \" \");\n  }\n}\nfunction ProjectBoardComponent_th_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 12);\n    i0.ɵɵtext(1, \" Created At\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ProjectBoardComponent_td_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 13);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const element_r12 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", element_r12.createdAt, \" \");\n  }\n}\nfunction ProjectBoardComponent_th_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"th\", 12);\n  }\n}\nconst _c0 = function (a1) {\n  return [\"/application/setting/board/editBoard/\", a1];\n};\nfunction ProjectBoardComponent_td_17_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r15 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"td\", 13)(1, \"button\", 1);\n    i0.ɵɵtext(2, \" Edit \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"button\", 14);\n    i0.ɵɵlistener(\"click\", function ProjectBoardComponent_td_17_Template_button_click_3_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r15);\n      const element_r13 = restoredCtx.$implicit;\n      const ctx_r14 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r14.deleteBoard(element_r13.id));\n    });\n    i0.ɵɵtext(4, \"Delete\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const element_r13 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(1, _c0, element_r13.id));\n  }\n}\nfunction ProjectBoardComponent_tr_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tr\", 15);\n  }\n}\nfunction ProjectBoardComponent_tr_19_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tr\", 16);\n  }\n}\nconst _c1 = function () {\n  return [\"/application/setting/board/addBoard\"];\n};\nexport class ProjectBoardComponent {\n  constructor(boardService, dialog) {\n    this.boardService = boardService;\n    this.dialog = dialog;\n    this.displayedColumns = ['id', 'name', 'createdAt', 'actions'];\n    this.dataSource = new MatTableDataSource();\n    this.sub$ = new Subject();\n  }\n  getBoard() {\n    this.boardService.getProjBoards().subscribe(boards => {\n      this.dataSource.data = boards;\n    });\n  }\n  ngOnInit() {\n    this.getBoard();\n    // this.route.params\n    //   .pipe(\n    //     takeUntil(this.sub$)\n    //   )\n    //   .subscribe(params => {\n    //   if (params['id']) {\n    //     this.boardService.getBoardss(params['id']).subscribe({\n    //       next: res => this.boards = res\n    //     })\n    //     console.log(params['id'])\n    //   }\n    // })\n  }\n\n  ngOnDestroy() {\n    this.sub$.next(null);\n    this.sub$.complete();\n  }\n  deleteBoard(id) {\n    const dialogRef = this.dialog.open(ConfirmDeleteComponent);\n    dialogRef.afterClosed().pipe(takeUntil(this.sub$), switchMap(result => {\n      if (result) {\n        console.log(result);\n        return this.boardService.deleteBoard(id);\n      }\n      return of(null);\n    })).subscribe(result => {\n      if (result) {\n        this.getBoard();\n      }\n    });\n  }\n}\nProjectBoardComponent.ɵfac = function ProjectBoardComponent_Factory(t) {\n  return new (t || ProjectBoardComponent)(i0.ɵɵdirectiveInject(i1.BoardService), i0.ɵɵdirectiveInject(i2.MatDialog));\n};\nProjectBoardComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ProjectBoardComponent,\n  selectors: [[\"app-project-board\"]],\n  decls: 20,\n  vars: 5,\n  consts: [[1, \"cont\"], [\"mat-raised-button\", \"\", \"color\", \"primary\", 3, \"routerLink\"], [1, \"container\"], [\"mat-table\", \"\", 1, \"mat-elevation-z8\", 3, \"dataSource\"], [\"matColumnDef\", \"id\"], [\"mat-header-cell\", \"\", 4, \"matHeaderCellDef\"], [\"mat-cell\", \"\", 4, \"matCellDef\"], [\"matColumnDef\", \"name\"], [\"matColumnDef\", \"createdAt\"], [\"matColumnDef\", \"actions\"], [\"mat-header-row\", \"\", 4, \"matHeaderRowDef\"], [\"mat-row\", \"\", 4, \"matRowDef\", \"matRowDefColumns\"], [\"mat-header-cell\", \"\"], [\"mat-cell\", \"\"], [\"mat-raised-button\", \"\", \"color\", \"warn\", 3, \"click\"], [\"mat-header-row\", \"\"], [\"mat-row\", \"\"]],\n  template: function ProjectBoardComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\")(2, \"button\", 1);\n      i0.ɵɵtext(3, \"Add Board \");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(4, \"div\", 2)(5, \"table\", 3);\n      i0.ɵɵelementContainerStart(6, 4);\n      i0.ɵɵtemplate(7, ProjectBoardComponent_th_7_Template, 2, 0, \"th\", 5);\n      i0.ɵɵtemplate(8, ProjectBoardComponent_td_8_Template, 2, 1, \"td\", 6);\n      i0.ɵɵelementContainerEnd();\n      i0.ɵɵelementContainerStart(9, 7);\n      i0.ɵɵtemplate(10, ProjectBoardComponent_th_10_Template, 2, 0, \"th\", 5);\n      i0.ɵɵtemplate(11, ProjectBoardComponent_td_11_Template, 2, 1, \"td\", 6);\n      i0.ɵɵelementContainerEnd();\n      i0.ɵɵelementContainerStart(12, 8);\n      i0.ɵɵtemplate(13, ProjectBoardComponent_th_13_Template, 2, 0, \"th\", 5);\n      i0.ɵɵtemplate(14, ProjectBoardComponent_td_14_Template, 2, 1, \"td\", 6);\n      i0.ɵɵelementContainerEnd();\n      i0.ɵɵelementContainerStart(15, 9);\n      i0.ɵɵtemplate(16, ProjectBoardComponent_th_16_Template, 1, 0, \"th\", 5);\n      i0.ɵɵtemplate(17, ProjectBoardComponent_td_17_Template, 5, 3, \"td\", 6);\n      i0.ɵɵelementContainerEnd();\n      i0.ɵɵtemplate(18, ProjectBoardComponent_tr_18_Template, 1, 0, \"tr\", 10);\n      i0.ɵɵtemplate(19, ProjectBoardComponent_tr_19_Template, 1, 0, \"tr\", 11);\n      i0.ɵɵelementEnd()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(4, _c1));\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"dataSource\", ctx.dataSource);\n      i0.ɵɵadvance(13);\n      i0.ɵɵproperty(\"matHeaderRowDef\", ctx.displayedColumns);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"matRowDefColumns\", ctx.displayedColumns);\n    }\n  },\n  dependencies: [i3.RouterLink, i4.MatButton, i5.MatTable, i5.MatHeaderCellDef, i5.MatHeaderRowDef, i5.MatColumnDef, i5.MatCellDef, i5.MatRowDef, i5.MatHeaderCell, i5.MatCell, i5.MatHeaderRow, i5.MatRow],\n  styles: [\".cont[_ngcontent-%COMP%]{display:flex;height:100%;width:100%;flex-wrap:nowrap;flex-direction:column;align-items:center;padding:10px}.cont[_ngcontent-%COMP%]   .select[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;width:100%;height:100%;align-items:center;padding:0 10px;border-bottom:1px solid #1e1d1d}.cont[_ngcontent-%COMP%]   .select[_ngcontent-%COMP%]   .select-title[_ngcontent-%COMP%]{font-size:16px;font-weight:600}.cont[_ngcontent-%COMP%]   .select[_ngcontent-%COMP%]   .select-btn[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center}.cont[_ngcontent-%COMP%]   .select[_ngcontent-%COMP%]   .select-btn[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{border-radius:50%;border:1px solid #1e1d1d;margin-left:10px;cursor:pointer}.cont[_ngcontent-%COMP%]   .select[_ngcontent-%COMP%]   .select-btn[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{background-color:#1e1d1d;color:#fff}.container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px;height:100vh;width:100%;padding:10px;background-color:#f17d7d;border-radius:5px;box-shadow:0 0 5px #0003}\"]\n});","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}