{"ast":null,"code":"import { of, Subject, switchMap, takeUntil } from \"rxjs\";\nimport { MatTableDataSource } from \"@angular/material/table\";\nimport { ConfirmDeleteComponent } from \"../../../../../shared/confirm-delete/confirm-delete.component\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../../../../core/services/epic.service\";\nimport * as i2 from \"@angular/material/dialog\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@angular/material/button\";\nimport * as i5 from \"@angular/material/table\";\nfunction ProjectEpicsComponent_th_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 13);\n    i0.ɵɵtext(1, \" \\u2116 \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ProjectEpicsComponent_td_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 14);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const element_r10 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", element_r10.id, \" \");\n  }\n}\nfunction ProjectEpicsComponent_th_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 13);\n    i0.ɵɵtext(1, \" Name \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ProjectEpicsComponent_td_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 14);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const element_r11 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", element_r11.name, \" \");\n  }\n}\nfunction ProjectEpicsComponent_th_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 13);\n    i0.ɵɵtext(1, \" Date Created \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ProjectEpicsComponent_td_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 14);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const element_r12 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", element_r12.createdAt, \" \");\n  }\n}\nfunction ProjectEpicsComponent_th_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"th\", 13);\n  }\n}\nconst _c0 = function (a1) {\n  return [\"/projects/setting/epics/edit\", a1];\n};\nfunction ProjectEpicsComponent_td_17_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r15 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"td\", 14)(1, \"div\", 15)(2, \"button\", 2);\n    i0.ɵɵtext(3, \"Edit\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"button\", 16);\n    i0.ɵɵlistener(\"click\", function ProjectEpicsComponent_td_17_Template_button_click_4_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r15);\n      const element_r13 = restoredCtx.$implicit;\n      const ctx_r14 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r14.delete(element_r13.id));\n    });\n    i0.ɵɵtext(5, \"Delete\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const element_r13 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(1, _c0, element_r13.id));\n  }\n}\nfunction ProjectEpicsComponent_tr_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tr\", 17);\n  }\n}\nfunction ProjectEpicsComponent_tr_19_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tr\", 18);\n  }\n}\nconst _c1 = function () {\n  return [\"/projects/setting/epics/add\"];\n};\nexport class ProjectEpicsComponent {\n  constructor(epicService, dialog) {\n    this.epicService = epicService;\n    this.dialog = dialog;\n    this.displayedColumns = ['id', 'name', 'createdAt', 'actions'];\n    this.dataSource = new MatTableDataSource();\n    this.sub$ = new Subject();\n  }\n  ngOnInit() {\n    this.getEpics();\n  }\n  getEpics() {\n    this.epicService.getEpics().pipe(takeUntil(this.sub$)).subscribe(epics => {\n      console.log(epics);\n      this.dataSource.data = epics;\n    });\n  }\n  delete(id) {\n    const dialogRef = this.dialog.open(ConfirmDeleteComponent);\n    dialogRef.afterClosed().pipe(takeUntil(this.sub$), switchMap(result => {\n      if (result) {\n        return this.epicService.deleteEpic(id);\n      }\n      return of(null);\n    })).subscribe(result => {\n      if (result) {\n        this.getEpics();\n      }\n    });\n  }\n  ngOnDestroy() {\n    this.sub$.next(null);\n    this.sub$.complete();\n  }\n}\nProjectEpicsComponent.ɵfac = function ProjectEpicsComponent_Factory(t) {\n  return new (t || ProjectEpicsComponent)(i0.ɵɵdirectiveInject(i1.EpicService), i0.ɵɵdirectiveInject(i2.MatDialog));\n};\nProjectEpicsComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ProjectEpicsComponent,\n  selectors: [[\"app-project-epics\"]],\n  decls: 20,\n  vars: 5,\n  consts: [[1, \"flex-cont\"], [1, \"btn\"], [\"mat-raised-button\", \"\", \"color\", \"primary\", 3, \"routerLink\"], [1, \"container\"], [\"mat-table\", \"\", 1, \"mat-elevation-z8\", 3, \"dataSource\"], [\"matColumnDef\", \"id\"], [\"mat-header-cell\", \"\", 4, \"matHeaderCellDef\"], [\"mat-cell\", \"\", 4, \"matCellDef\"], [\"matColumnDef\", \"name\"], [\"matColumnDef\", \"createdAt\"], [\"matColumnDef\", \"actions\"], [\"mat-header-row\", \"\", 4, \"matHeaderRowDef\"], [\"mat-row\", \"\", 4, \"matRowDef\", \"matRowDefColumns\"], [\"mat-header-cell\", \"\"], [\"mat-cell\", \"\"], [1, \"flex\"], [\"mat-raised-button\", \"\", \"color\", \"warn\", 3, \"click\"], [\"mat-header-row\", \"\"], [\"mat-row\", \"\"]],\n  template: function ProjectEpicsComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"button\", 2);\n      i0.ɵɵtext(3, \"Add Epic\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(4, \"div\", 3)(5, \"table\", 4);\n      i0.ɵɵelementContainerStart(6, 5);\n      i0.ɵɵtemplate(7, ProjectEpicsComponent_th_7_Template, 2, 0, \"th\", 6);\n      i0.ɵɵtemplate(8, ProjectEpicsComponent_td_8_Template, 2, 1, \"td\", 7);\n      i0.ɵɵelementContainerEnd();\n      i0.ɵɵelementContainerStart(9, 8);\n      i0.ɵɵtemplate(10, ProjectEpicsComponent_th_10_Template, 2, 0, \"th\", 6);\n      i0.ɵɵtemplate(11, ProjectEpicsComponent_td_11_Template, 2, 1, \"td\", 7);\n      i0.ɵɵelementContainerEnd();\n      i0.ɵɵelementContainerStart(12, 9);\n      i0.ɵɵtemplate(13, ProjectEpicsComponent_th_13_Template, 2, 0, \"th\", 6);\n      i0.ɵɵtemplate(14, ProjectEpicsComponent_td_14_Template, 2, 1, \"td\", 7);\n      i0.ɵɵelementContainerEnd();\n      i0.ɵɵelementContainerStart(15, 10);\n      i0.ɵɵtemplate(16, ProjectEpicsComponent_th_16_Template, 1, 0, \"th\", 6);\n      i0.ɵɵtemplate(17, ProjectEpicsComponent_td_17_Template, 6, 3, \"td\", 7);\n      i0.ɵɵelementContainerEnd();\n      i0.ɵɵtemplate(18, ProjectEpicsComponent_tr_18_Template, 1, 0, \"tr\", 11);\n      i0.ɵɵtemplate(19, ProjectEpicsComponent_tr_19_Template, 1, 0, \"tr\", 12);\n      i0.ɵɵelementEnd()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(4, _c1));\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"dataSource\", ctx.dataSource);\n      i0.ɵɵadvance(13);\n      i0.ɵɵproperty(\"matHeaderRowDef\", ctx.displayedColumns);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"matRowDefColumns\", ctx.displayedColumns);\n    }\n  },\n  dependencies: [i3.RouterLink, i4.MatButton, i5.MatTable, i5.MatHeaderCellDef, i5.MatHeaderRowDef, i5.MatColumnDef, i5.MatCellDef, i5.MatRowDef, i5.MatHeaderCell, i5.MatCell, i5.MatHeaderRow, i5.MatRow],\n  styles: [\".flex[_ngcontent-%COMP%] {\\n  display: flex;\\n  gap: 50px;\\n}\\n\\n.flex-cont[_ngcontent-%COMP%] {\\n  display: flex;\\n  margin-left: 10%;\\n  margin-right: 10%;\\n}\\n\\n.btn[_ngcontent-%COMP%] {\\n  margin-top: 80px;\\n  margin-left: 10%;\\n}\\n\\n.container[_ngcontent-%COMP%] {\\n  margin-top: 80px;\\n  margin-left: 10%;\\n  margin-right: 10%;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvcGFnZXMvcHJvamVjdC9wcm9qZWN0LXNldHRpbmcvY29udGFpbmVycy9wcm9qZWN0LWVwaWNzL3Byb2plY3QtZXBpY3MuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxhQUFBO0VBQ0EsU0FBQTtBQUNGOztBQUVBO0VBQ0UsYUFBQTtFQUNBLGdCQUFBO0VBQ0EsaUJBQUE7QUFDRjs7QUFFQTtFQUNFLGdCQUFBO0VBQ0EsZ0JBQUE7QUFDRjs7QUFFQTtFQUNFLGdCQUFBO0VBQ0EsZ0JBQUE7RUFDQSxpQkFBQTtBQUNGIiwic291cmNlc0NvbnRlbnQiOlsiLmZsZXgge1xuICBkaXNwbGF5OiBmbGV4O1xuICBnYXA6NTBweDtcbn1cblxuLmZsZXgtY29udCB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIG1hcmdpbi1sZWZ0OiAxMCU7XG4gIG1hcmdpbi1yaWdodDogMTAlO1xufVxuXG4uYnRuIHtcbiAgbWFyZ2luLXRvcDogODBweDtcbiAgbWFyZ2luLWxlZnQ6IDEwJTtcbn1cblxuLmNvbnRhaW5lciB7XG4gIG1hcmdpbi10b3A6IDgwcHg7XG4gIG1hcmdpbi1sZWZ0OiAxMCU7XG4gIG1hcmdpbi1yaWdodDogMTAlO1xufVxuXG4iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n});","map":{"version":3,"mappings":"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","names":["of","Subject","switchMap","takeUntil","MatTableDataSource","ConfirmDeleteComponent","i0","ProjectEpicsComponent","constructor","epicService","dialog","ngOnInit","getEpics","pipe","sub$","subscribe","epics","console","log","dataSource","data","delete","id","dialogRef","open","afterClosed","result","deleteEpic","ngOnDestroy","next","complete","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["/Users/macbookpro/Desktop/GitHubRepo/Task-Manager-with-NgRx/src/app/pages/project/project-setting/containers/project-epics/project-epics.component.ts","/Users/macbookpro/Desktop/GitHubRepo/Task-Manager-with-NgRx/src/app/pages/project/project-setting/containers/project-epics/project-epics.component.html"],"sourcesContent":["import {Component, OnDestroy, OnInit} from '@angular/core';\nimport {EpicService} from \"../../../../../core/services/epic.service\";\nimport {of, Subject, switchMap, takeUntil} from \"rxjs\";\nimport {MatTableDataSource} from \"@angular/material/table\";\nimport {MatDialog} from \"@angular/material/dialog\";\nimport {ConfirmDeleteComponent} from \"../../../../../shared/confirm-delete/confirm-delete.component\";\n\n@Component({\n  selector: 'app-project-epics',\n  templateUrl: './project-epics.component.html',\n  styleUrls: ['./project-epics.component.scss']\n})\nexport class ProjectEpicsComponent implements OnInit, OnDestroy{\n  displayedColumns = ['id', 'name', 'createdAt', 'actions'];\n\n  dataSource = new MatTableDataSource();\n\n  sub$ = new Subject();\n\n  constructor(private epicService: EpicService,\n              public dialog: MatDialog) {\n  }\n\n  ngOnInit() {\n    this.getEpics();\n  }\n\n  getEpics() {\n    this.epicService.getEpics()\n      .pipe(takeUntil(this.sub$))\n      .subscribe(epics => {\n        console.log(epics)\n        this.dataSource.data = epics;\n      })\n  }\n\n  delete(id: number) {\n    const dialogRef = this.dialog.open(ConfirmDeleteComponent);\n\n    dialogRef.afterClosed()\n      .pipe(\n        takeUntil(this.sub$),\n        switchMap((result) => {\n          if (result) {\n            return this.epicService.deleteEpic(id);\n          }\n          return of(null);\n        })\n      )\n      .subscribe(result => {\n        if (result) {\n          this.getEpics();\n        }\n      });\n  }\n\n  ngOnDestroy(): void {\n    this.sub$.next(null);\n    this.sub$.complete();\n  }\n}\n","\n  <div class=\"flex-cont\">\n    <div class=\"btn\">\n      <button mat-raised-button color=\"primary\" [routerLink]=\"['/projects/setting/epics/add']\">Add Epic</button>\n    </div>\n\n    <div class=\"container\">\n      <table mat-table [dataSource]=\"dataSource\" class=\"mat-elevation-z8\">\n\n        <!-- Name Column -->\n        <ng-container matColumnDef=\"id\">\n          <th mat-header-cell *matHeaderCellDef> &#8470; </th>\n          <td mat-cell *matCellDef=\"let element\"> {{element.id}} </td>\n        </ng-container>\n\n        <!-- Name Column -->\n        <ng-container matColumnDef=\"name\">\n          <th mat-header-cell *matHeaderCellDef> Name </th>\n          <td mat-cell *matCellDef=\"let element\"> {{element.name}} </td>\n        </ng-container>\n\n        <!-- Name Column -->\n        <ng-container matColumnDef=\"createdAt\">\n          <th mat-header-cell *matHeaderCellDef> Date Created </th>\n          <td mat-cell *matCellDef=\"let element\"> {{element.createdAt}} </td>\n        </ng-container>\n\n        <!-- Name Column -->\n        <ng-container matColumnDef=\"actions\">\n          <th mat-header-cell *matHeaderCellDef>  </th>\n          <td mat-cell *matCellDef=\"let element\">\n            <div class=\"flex\">\n              <button mat-raised-button color=\"primary\" [routerLink]=\"['/projects/setting/epics/edit', element.id]\">Edit</button>\n              <button mat-raised-button color=\"warn\" (click)=\"delete(element.id)\">Delete</button>\n            </div>\n          </td>\n        </ng-container>\n\n\n        <tr mat-header-row *matHeaderRowDef=\"displayedColumns\"></tr>\n        <tr mat-row *matRowDef=\"let row; columns: displayedColumns;\"></tr>\n      </table>\n    </div>\n  </div>\n\n\n\n\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}