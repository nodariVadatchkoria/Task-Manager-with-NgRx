{"ast":null,"code":"import { FormControl, FormGroup, Validators } from '@angular/forms';\nimport { Subject, takeUntil } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../../core/services\";\nimport * as i2 from \"../../../core/services/cookie.service\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"../../../core/services/project.service\";\nimport * as i5 from \"@angular/forms\";\nimport * as i6 from \"@angular/common\";\nimport * as i7 from \"@angular/material/progress-spinner\";\nconst _c0 = [\"password\"];\nfunction LoginComponent_div_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 13);\n    i0.ɵɵtext(1, \"User with this Email already exists! Please sign in.\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction LoginComponent_div_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 13);\n    i0.ɵɵtext(1, \"Email required!\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction LoginComponent_div_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 13);\n    i0.ɵɵtext(1, \"Please enter Email in correct format!\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction LoginComponent_div_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 13);\n    i0.ɵɵtext(1, \"Password required!\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction LoginComponent_div_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"Please enter Password with min 6 symbol!\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction LoginComponent_span_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Submit\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction LoginComponent_mat_spinner_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"mat-spinner\", 14);\n  }\n  if (rf & 2) {\n    const ctx_r7 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"diameter\", ctx_r7.diameter);\n  }\n}\nexport class LoginComponent {\n  constructor(authService, cookieService, router, route, projectsService) {\n    this.authService = authService;\n    this.cookieService = cookieService;\n    this.router = router;\n    this.route = route;\n    this.projectsService = projectsService;\n    this.form = new FormGroup({\n      email: new FormControl('', [Validators.required, Validators.email]),\n      password: new FormControl('', [Validators.required, Validators.minLength(4)])\n    });\n    this.sub$ = new Subject();\n    this.isRegistered = false;\n    this.mobile = false;\n    this.spinner = false;\n    this.diameter = 30;\n    this.projects = [];\n  }\n  ngOnInit() {\n    window.innerWidth <= 1024 ? this.mobile = true : this.mobile = false;\n    this.getProjects();\n  }\n  ngAfterViewInit() {\n    this.route.queryParamMap.subscribe(params => {\n      params.get('email') && !params.get('fromRegistration') ? (this.form.get('email')?.setValue(params.get('email')), this.isRegistered = true) : null;\n    });\n    this.isRegistered ? this.password.nativeElement.focus() : null;\n  }\n  submit() {\n    this.form.markAllAsTouched();\n    if (this.form.invalid) return;\n    this.spinner = true;\n    this.authService.login(this.form.value).pipe(takeUntil(this.sub$)).subscribe(res => {\n      this.getProjects();\n      if (this.projects.length > 0) {\n        this.router.navigate(['/']);\n      } else {\n        this.router.navigate(['/stepper']);\n      }\n    });\n  }\n  getProjects() {\n    this.projectsService.getProjects().subscribe({\n      next: res => res.data.forEach(project => {\n        this.projects.push(project);\n      }),\n      error: err => console.log(err)\n    });\n  }\n}\nLoginComponent.ɵfac = function LoginComponent_Factory(t) {\n  return new (t || LoginComponent)(i0.ɵɵdirectiveInject(i1.AuthService), i0.ɵɵdirectiveInject(i2.CookieService), i0.ɵɵdirectiveInject(i3.Router), i0.ɵɵdirectiveInject(i3.ActivatedRoute), i0.ɵɵdirectiveInject(i4.ProjectService));\n};\nLoginComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: LoginComponent,\n  selectors: [[\"app-login\"]],\n  viewQuery: function LoginComponent_Query(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵviewQuery(_c0, 5);\n    }\n    if (rf & 2) {\n      let _t;\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.password = _t.first);\n    }\n  },\n  decls: 22,\n  vars: 9,\n  consts: [[\"onclick\", \"onclick\", 1, \"container\", 3, \"ngClass\"], [1, \"top\"], [1, \"bottom\"], [1, \"center\"], [3, \"formGroup\", \"ngSubmit\"], [\"class\", \"validationMessage\", 4, \"ngIf\"], [\"type\", \"email\", \"placeholder\", \"email\", \"id\", \"email\", \"formControlName\", \"email\", 1, \"inputs\"], [\"type\", \"password\", \"placeholder\", \"password\", \"id\", \"password\", \"formControlName\", \"password\", 1, \"inputs\"], [\"password\", \"\"], [4, \"ngIf\"], [\"type\", \"submit\", 1, \"inputs\", \"subBtn\"], [\"class\", \"spinner\", \"color\", \"accent\", 3, \"diameter\", 4, \"ngIf\"], [\"routerLink\", \"/register\"], [1, \"validationMessage\"], [\"color\", \"accent\", 1, \"spinner\", 3, \"diameter\"]],\n  template: function LoginComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0);\n      i0.ɵɵelement(1, \"div\", 1)(2, \"div\", 2);\n      i0.ɵɵelementStart(3, \"div\", 3)(4, \"h2\");\n      i0.ɵɵtext(5, \"Please Sign In\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(6, \"form\", 4);\n      i0.ɵɵlistener(\"ngSubmit\", function LoginComponent_Template_form_ngSubmit_6_listener() {\n        return ctx.submit();\n      });\n      i0.ɵɵtemplate(7, LoginComponent_div_7_Template, 2, 0, \"div\", 5);\n      i0.ɵɵelement(8, \"input\", 6);\n      i0.ɵɵtemplate(9, LoginComponent_div_9_Template, 2, 0, \"div\", 5);\n      i0.ɵɵtemplate(10, LoginComponent_div_10_Template, 2, 0, \"div\", 5);\n      i0.ɵɵelement(11, \"input\", 7, 8);\n      i0.ɵɵtemplate(13, LoginComponent_div_13_Template, 2, 0, \"div\", 5);\n      i0.ɵɵtemplate(14, LoginComponent_div_14_Template, 2, 0, \"div\", 9);\n      i0.ɵɵelementStart(15, \"button\", 10);\n      i0.ɵɵtemplate(16, LoginComponent_span_16_Template, 2, 0, \"span\", 9);\n      i0.ɵɵtemplate(17, LoginComponent_mat_spinner_17_Template, 1, 1, \"mat-spinner\", 11);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(18, \"h4\");\n      i0.ɵɵtext(19, \"Don't have an account? \");\n      i0.ɵɵelementStart(20, \"a\", 12);\n      i0.ɵɵtext(21, \" Register\");\n      i0.ɵɵelementEnd()()()()();\n    }\n    if (rf & 2) {\n      let tmp_3_0;\n      let tmp_4_0;\n      let tmp_5_0;\n      let tmp_6_0;\n      i0.ɵɵproperty(\"ngClass\", ctx.mobile ? \"mobile\" : \"\");\n      i0.ɵɵadvance(6);\n      i0.ɵɵproperty(\"formGroup\", ctx.form);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.isRegistered);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", ((tmp_3_0 = ctx.form.get(\"email\")) == null ? null : tmp_3_0.getError(\"required\")) && ((tmp_3_0 = ctx.form.get(\"email\")) == null ? null : tmp_3_0.touched));\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ((tmp_4_0 = ctx.form.get(\"email\")) == null ? null : tmp_4_0.getError(\"email\")) && ((tmp_4_0 = ctx.form.get(\"email\")) == null ? null : tmp_4_0.touched));\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngIf\", ((tmp_5_0 = ctx.form.get(\"password\")) == null ? null : tmp_5_0.getError(\"required\")) && ((tmp_5_0 = ctx.form.get(\"password\")) == null ? null : tmp_5_0.touched));\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ((tmp_6_0 = ctx.form.get(\"password\")) == null ? null : tmp_6_0.getError(\"minlength\")) && ((tmp_6_0 = ctx.form.get(\"password\")) == null ? null : tmp_6_0.touched));\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", !ctx.spinner);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.spinner);\n    }\n  },\n  dependencies: [i3.RouterLink, i5.ɵNgNoValidate, i5.DefaultValueAccessor, i5.NgControlStatus, i5.NgControlStatusGroup, i5.FormGroupDirective, i5.FormControlName, i6.NgIf, i6.NgClass, i7.MatProgressSpinner],\n  styles: [\"@import url(https://fonts.googleapis.com/css?family=Raleway:400,700);*[_ngcontent-%COMP%], *[_ngcontent-%COMP%]:before, *[_ngcontent-%COMP%]:after {\\n  box-sizing: border-box;\\n}\\n\\nbody[_ngcontent-%COMP%] {\\n  min-height: 100vh;\\n  font-family: \\\"Raleway\\\", sans-serif;\\n}\\n\\n.container[_ngcontent-%COMP%] {\\n  font-family: \\\"Raleway\\\", sans-serif;\\n  position: fixed;\\n  width: 100%;\\n  height: 100%;\\n  overflow: hidden;\\n  left: 0;\\n  top: 0;\\n}\\n\\n.container[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]:before, .container[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]:after, .container[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]:before, .container[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]:after {\\n  content: \\\"\\\";\\n  position: fixed;\\n  width: 200vmax;\\n  height: 200vmax;\\n  background: #7B68EE;\\n  top: 50%;\\n  left: 50%;\\n  margin-top: -100vmax;\\n  transform-origin: 0 50%;\\n  transition: all 0.5s cubic-bezier(0.445, 0.05, 0, 1);\\n  z-index: 10;\\n  opacity: 0.65;\\n  transition-delay: 0.2s;\\n}\\n\\n.container[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]:before {\\n  transform: rotate(45deg);\\n}\\n\\n.container[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]:after {\\n  transform: rotate(135deg);\\n}\\n\\n.container[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]:before {\\n  transform: rotate(-45deg);\\n}\\n\\n.container[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]:after {\\n  transform: rotate(-135deg);\\n}\\n\\n.container[_ngcontent-%COMP%]:hover   .top[_ngcontent-%COMP%]:before, .container[_ngcontent-%COMP%]:hover   .top[_ngcontent-%COMP%]:after, .container[_ngcontent-%COMP%]:hover   .bottom[_ngcontent-%COMP%]:before, .container[_ngcontent-%COMP%]:hover   .bottom[_ngcontent-%COMP%]:after, .container[_ngcontent-%COMP%]:active   .top[_ngcontent-%COMP%]:before, .container[_ngcontent-%COMP%]:active   .top[_ngcontent-%COMP%]:after, .container[_ngcontent-%COMP%]:active   .bottom[_ngcontent-%COMP%]:before, .container[_ngcontent-%COMP%]:active   .bottom[_ngcontent-%COMP%]:after {\\n  margin-left: 200px;\\n  transform-origin: -200px 50%;\\n  transition-delay: 0s;\\n}\\n\\n.container[_ngcontent-%COMP%]:hover   .center[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]:active   .center[_ngcontent-%COMP%] {\\n  opacity: 1;\\n  transition-delay: 0.2s;\\n}\\n\\n.container[_ngcontent-%COMP%]   .center[_ngcontent-%COMP%] {\\n  position: fixed;\\n  width: 400px;\\n  height: 400px;\\n  top: calc(50% - 200px);\\n  left: calc(50% - 200px);\\n  display: flex;\\n  flex-direction: column;\\n  justify-content: center;\\n  align-items: center;\\n  opacity: 0;\\n  transition: all 0.5s cubic-bezier(0.445, 0.05, 0, 1);\\n  transition-delay: 0s;\\n  color: #333;\\n}\\n\\n.container[_ngcontent-%COMP%]   .center[_ngcontent-%COMP%]   form[_ngcontent-%COMP%] {\\n  display: flex;\\n  flex-direction: column;\\n  align-items: center;\\n  justify-content: center;\\n}\\n\\n.container[_ngcontent-%COMP%]   .center[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .inputs[_ngcontent-%COMP%] {\\n  width: 300px;\\n  padding: 15px;\\n  margin: 5px 0;\\n  border-radius: 5px;\\n  border: 1px solid #ccc;\\n  font-family: inherit;\\n}\\n\\n.container[_ngcontent-%COMP%]   .center[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .validationMessage[_ngcontent-%COMP%] {\\n  color: red;\\n  font-size: 1rem;\\n  align-self: flex-start;\\n}\\n\\n.container[_ngcontent-%COMP%]   .center[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .subBtn[_ngcontent-%COMP%] {\\n  display: flex;\\n  width: 300px;\\n  padding: 15px;\\n  align-items: center;\\n  justify-content: center;\\n  margin: 5px 0;\\n  border-radius: 5px;\\n  border: 1px solid #ccc;\\n  font-family: inherit;\\n  background: #7B68EE;\\n  color: #fff;\\n  font-weight: 700;\\n  cursor: pointer;\\n  transition: all 0.5s cubic-bezier(0.445, 0.05, 0, 1);\\n}\\n\\n.container[_ngcontent-%COMP%]   .center[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .subBtn[_ngcontent-%COMP%]:hover {\\n  background: #fff;\\n  color: #7B68EE;\\n}\\n\\n.container[_ngcontent-%COMP%]   .center[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%] {\\n  font-size: 15px;\\n  color: #7B68EE;\\n  text-align: center;\\n}\\n\\n.container[_ngcontent-%COMP%]   .center[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] {\\n  color: #7B68EE;\\n  text-decoration: none;\\n  margin-left: 5px;\\n  font-size: 17px;\\n}\\n\\n.container[_ngcontent-%COMP%]   .center[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover {\\n  text-decoration: underline;\\n}\\n\\n.container.mobile[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]:before, .container.mobile[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]:after, .container.mobile[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]:before, .container.mobile[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]:after {\\n  margin-left: 200px;\\n  transform-origin: -200px 50%;\\n  transition-delay: 0.5s;\\n}\\n\\n.container.mobile[_ngcontent-%COMP%]   .center[_ngcontent-%COMP%] {\\n  opacity: 1;\\n  transition-delay: 1s;\\n}\\n\\n@media only screen and (max-width: 940px) {\\n  .container[_ngcontent-%COMP%]   .center[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .validationMessage[_ngcontent-%COMP%] {\\n    font-size: 0.8rem;\\n  }\\n}\\n\\n@media only screen and (max-width: 700px) {\\n  .container[_ngcontent-%COMP%]   .center[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .inputs[_ngcontent-%COMP%] {\\n    padding: 10px 15px;\\n    margin: 3px 0;\\n  }\\n\\n  .container[_ngcontent-%COMP%]   .center[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .validationMessage[_ngcontent-%COMP%] {\\n    font-size: 0.7rem;\\n  }\\n}\\n\\n@media only screen and (max-width: 420px) {\\n  .container[_ngcontent-%COMP%]   .center[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .inputs[_ngcontent-%COMP%] {\\n    padding: 15px;\\n    margin: 10px 0;\\n  }\\n\\n  .container[_ngcontent-%COMP%]   .center[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .validationMessage[_ngcontent-%COMP%] {\\n    font-size: 0.9rem;\\n  }\\n}\\n\\n@media only screen and (max-width: 280px) {\\n  .container[_ngcontent-%COMP%]   .center[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .inputs[_ngcontent-%COMP%] {\\n    width: 240px;\\n    padding: 15px 5px;\\n  }\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvcGFnZXMvYXV0aC9sb2dpbi9sb2dpbi5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFFQTtFQUNFLHNCQUFBO0FBQUY7O0FBR0E7RUFDRSxpQkFBQTtFQUNBLGtDQUFBO0FBQUY7O0FBR0E7RUFDRSxrQ0FBQTtFQUNBLGVBQUE7RUFDQSxXQUFBO0VBQ0EsWUFBQTtFQUNBLGdCQUFBO0VBQ0EsT0FBQTtFQUNBLE1BQUE7QUFBRjs7QUFFSTtFQUNFLFdBQUE7RUFDQSxlQUFBO0VBQ0EsY0FBQTtFQUNBLGVBQUE7RUFDQSxtQkFBQTtFQUNBLFFBQUE7RUFDQSxTQUFBO0VBQ0Esb0JBQUE7RUFDQSx1QkFBQTtFQUNBLG9EQUFBO0VBQ0EsV0FBQTtFQUNBLGFBQUE7RUFDQSxzQkFBQTtBQUFOOztBQUtJO0VBQ0Usd0JBQUE7QUFITjs7QUFNSTtFQUNFLHlCQUFBO0FBSk47O0FBU0k7RUFDRSx5QkFBQTtBQVBOOztBQVVJO0VBQ0UsMEJBQUE7QUFSTjs7QUFhTTtFQUNFLGtCQUFBO0VBQ0EsNEJBQUE7RUFDQSxvQkFBQTtBQVhSOztBQWVJO0VBQ0UsVUFBQTtFQUNBLHNCQUFBO0FBYk47O0FBaUJFO0VBQ0UsZUFBQTtFQUNBLFlBQUE7RUFDQSxhQUFBO0VBQ0Esc0JBQUE7RUFDQSx1QkFBQTtFQUNBLGFBQUE7RUFDQSxzQkFBQTtFQUNBLHVCQUFBO0VBQ0EsbUJBQUE7RUFDQSxVQUFBO0VBQ0Esb0RBQUE7RUFDQSxvQkFBQTtFQUNBLFdBQUE7QUFmSjs7QUFpQkk7RUFDRSxhQUFBO0VBQ0Esc0JBQUE7RUFDQSxtQkFBQTtFQUNBLHVCQUFBO0FBZk47O0FBaUJNO0VBQ0UsWUFBQTtFQUNBLGFBQUE7RUFDQSxhQUFBO0VBQ0Esa0JBQUE7RUFDQSxzQkFBQTtFQUNBLG9CQUFBO0FBZlI7O0FBa0JNO0VBQ0UsVUFBQTtFQUNBLGVBQUE7RUFDQSxzQkFBQTtBQWhCUjs7QUFrQk07RUFDRSxhQUFBO0VBQ0EsWUFBQTtFQUNBLGFBQUE7RUFDQSxtQkFBQTtFQUNBLHVCQUFBO0VBQ0EsYUFBQTtFQUNBLGtCQUFBO0VBQ0Esc0JBQUE7RUFDQSxvQkFBQTtFQUNBLG1CQUFBO0VBQ0EsV0FBQTtFQUNBLGdCQUFBO0VBQ0EsZUFBQTtFQUNBLG9EQUFBO0FBaEJSOztBQWlCUTtFQUNFLGdCQUFBO0VBQ0EsY0FBQTtBQWZWOztBQWtCTTtFQUNFLGVBQUE7RUFDQSxjQUFBO0VBQ0Esa0JBQUE7QUFoQlI7O0FBaUJRO0VBQ0UsY0FBQTtFQUNBLHFCQUFBO0VBQ0EsZ0JBQUE7RUFDQSxlQUFBO0FBZlY7O0FBZ0JVO0VBQ0UsMEJBQUE7QUFkWjs7QUF1Qk07RUFDRSxrQkFBQTtFQUNBLDRCQUFBO0VBQ0Esc0JBQUE7QUFyQlI7O0FBd0JJO0VBQ0UsVUFBQTtFQUNBLG9CQUFBO0FBdEJOOztBQTJCQTtFQUlRO0lBQ0UsaUJBQUE7RUEzQlI7QUFDRjs7QUFpQ0E7RUFJUTtJQUNFLGtCQUFBO0lBQ0EsYUFBQTtFQWxDUjs7RUFxQ007SUFDRSxpQkFBQTtFQW5DUjtBQUNGOztBQXlDQTtFQUlRO0lBQ0UsYUFBQTtJQUNBLGNBQUE7RUExQ1I7O0VBNkNNO0lBQ0UsaUJBQUE7RUEzQ1I7QUFDRjs7QUFpREE7RUFJUTtJQUNFLFlBQUE7SUFDQSxpQkFBQTtFQWxEUjtBQUNGIiwic291cmNlc0NvbnRlbnQiOlsiQGltcG9ydCB1cmwoJ2h0dHBzOi8vZm9udHMuZ29vZ2xlYXBpcy5jb20vY3NzP2ZhbWlseT1SYWxld2F5OjQwMCw3MDAnKTtcblxuKiwgKjpiZWZvcmUsICo6YWZ0ZXIge1xuICBib3gtc2l6aW5nOiBib3JkZXItYm94XG59XG5cbmJvZHkge1xuICBtaW4taGVpZ2h0OiAxMDB2aDtcbiAgZm9udC1mYW1pbHk6ICdSYWxld2F5Jywgc2Fucy1zZXJpZjtcbn1cblxuLmNvbnRhaW5lciB7XG4gIGZvbnQtZmFtaWx5OiAnUmFsZXdheScsIHNhbnMtc2VyaWY7XG4gIHBvc2l0aW9uOiBmaXhlZDtcbiAgd2lkdGg6IDEwMCU7XG4gIGhlaWdodDogMTAwJTtcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgbGVmdDogMDtcbiAgdG9wOiAwO1xuICAudG9wLCAuYm90dG9tIHtcbiAgICAmOmJlZm9yZSwgJjphZnRlciB7XG4gICAgICBjb250ZW50OiAnJztcbiAgICAgIHBvc2l0aW9uOiBmaXhlZDtcbiAgICAgIHdpZHRoOiAyMDB2bWF4O1xuICAgICAgaGVpZ2h0OiAyMDB2bWF4O1xuICAgICAgYmFja2dyb3VuZDogIzdCNjhFRTtcbiAgICAgIHRvcDogNTAlO1xuICAgICAgbGVmdDogNTAlO1xuICAgICAgbWFyZ2luLXRvcDogLTEwMHZtYXg7XG4gICAgICB0cmFuc2Zvcm0tb3JpZ2luOiAwIDUwJTtcbiAgICAgIHRyYW5zaXRpb246IGFsbCAwLjVzIGN1YmljLWJlemllcigwLjQ0NSwgMC4wNSwgMCwgMSk7XG4gICAgICB6LWluZGV4OiAxMDtcbiAgICAgIG9wYWNpdHk6IDAuNjU7XG4gICAgICB0cmFuc2l0aW9uLWRlbGF5OiAwLjJzO1xuICAgIH1cbiAgfVxuXG4gIC50b3Age1xuICAgICY6YmVmb3JlIHtcbiAgICAgIHRyYW5zZm9ybTogcm90YXRlKDQ1ZGVnKTtcbiAgICB9XG5cbiAgICAmOmFmdGVyIHtcbiAgICAgIHRyYW5zZm9ybTogcm90YXRlKDEzNWRlZyk7XG4gICAgfVxuICB9XG5cbiAgLmJvdHRvbSB7XG4gICAgJjpiZWZvcmUge1xuICAgICAgdHJhbnNmb3JtOiByb3RhdGUoLTQ1ZGVnKTtcbiAgICB9XG5cbiAgICAmOmFmdGVyIHtcbiAgICAgIHRyYW5zZm9ybTogcm90YXRlKC0xMzVkZWcpO1xuICAgIH1cbiAgfVxuICAmOmhvdmVyLCAmOmFjdGl2ZSB7XG4gICAgLnRvcCwgLmJvdHRvbSB7XG4gICAgICAmOmJlZm9yZSwgJjphZnRlciB7XG4gICAgICAgIG1hcmdpbi1sZWZ0OiAyMDBweDtcbiAgICAgICAgdHJhbnNmb3JtLW9yaWdpbjogLTIwMHB4IDUwJTtcbiAgICAgICAgdHJhbnNpdGlvbi1kZWxheTogMHM7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLmNlbnRlciB7XG4gICAgICBvcGFjaXR5OiAxO1xuICAgICAgdHJhbnNpdGlvbi1kZWxheTogMC4ycztcbiAgICB9XG4gIH1cblxuICAuY2VudGVyIHtcbiAgICBwb3NpdGlvbjogZml4ZWQ7XG4gICAgd2lkdGg6IDQwMHB4O1xuICAgIGhlaWdodDogNDAwcHg7XG4gICAgdG9wOiBjYWxjKDUwJSAtIDIwMHB4KTtcbiAgICBsZWZ0OiBjYWxjKDUwJSAtIDIwMHB4KTtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICBvcGFjaXR5OiAwO1xuICAgIHRyYW5zaXRpb246IGFsbCAwLjVzIGN1YmljLWJlemllcigwLjQ0NSwgMC4wNSwgMCwgMSk7XG4gICAgdHJhbnNpdGlvbi1kZWxheTogMHM7XG4gICAgY29sb3I6ICMzMzM7XG5cbiAgICBmb3JtIHtcbiAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuXG4gICAgICAuaW5wdXRzIHtcbiAgICAgICAgd2lkdGg6IDMwMHB4O1xuICAgICAgICBwYWRkaW5nOiAxNXB4O1xuICAgICAgICBtYXJnaW46IDVweCAwO1xuICAgICAgICBib3JkZXItcmFkaXVzOiA1cHg7XG4gICAgICAgIGJvcmRlcjogMXB4IHNvbGlkICNjY2M7XG4gICAgICAgIGZvbnQtZmFtaWx5OiBpbmhlcml0O1xuXG4gICAgICB9XG4gICAgICAudmFsaWRhdGlvbk1lc3NhZ2V7XG4gICAgICAgIGNvbG9yOiByZWQ7XG4gICAgICAgIGZvbnQtc2l6ZTogMXJlbTtcbiAgICAgICAgYWxpZ24tc2VsZjogZmxleC1zdGFydDtcbiAgICAgIH1cbiAgICAgIC5zdWJCdG57XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIHdpZHRoOiAzMDBweDtcbiAgICAgICAgcGFkZGluZzogMTVweDtcbiAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gICAgICAgIG1hcmdpbjogNXB4IDA7XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDVweDtcbiAgICAgICAgYm9yZGVyOiAxcHggc29saWQgI2NjYztcbiAgICAgICAgZm9udC1mYW1pbHk6IGluaGVyaXQ7XG4gICAgICAgIGJhY2tncm91bmQ6ICM3QjY4RUU7XG4gICAgICAgIGNvbG9yOiAjZmZmO1xuICAgICAgICBmb250LXdlaWdodDogNzAwO1xuICAgICAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgICAgIHRyYW5zaXRpb246IGFsbCAwLjVzIGN1YmljLWJlemllcigwLjQ0NSwgMC4wNSwgMCwgMSk7XG4gICAgICAgICY6aG92ZXIge1xuICAgICAgICAgIGJhY2tncm91bmQ6ICNmZmY7XG4gICAgICAgICAgY29sb3I6ICM3QjY4RUU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGg0IHtcbiAgICAgICAgZm9udC1zaXplOiAxNXB4O1xuICAgICAgICBjb2xvcjogIzdCNjhFRTtcbiAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgICAgICBhe1xuICAgICAgICAgIGNvbG9yOiAjN0I2OEVFO1xuICAgICAgICAgIHRleHQtZGVjb3JhdGlvbjogbm9uZTtcbiAgICAgICAgICBtYXJnaW4tbGVmdDogNXB4O1xuICAgICAgICAgIGZvbnQtc2l6ZTogMTdweDtcbiAgICAgICAgICAmOmhvdmVye1xuICAgICAgICAgICAgdGV4dC1kZWNvcmF0aW9uOiB1bmRlcmxpbmU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgJi5tb2JpbGUge1xuICAgIC50b3AsIC5ib3R0b20ge1xuICAgICAgJjpiZWZvcmUsICY6YWZ0ZXIge1xuICAgICAgICBtYXJnaW4tbGVmdDogMjAwcHg7XG4gICAgICAgIHRyYW5zZm9ybS1vcmlnaW46IC0yMDBweCA1MCU7XG4gICAgICAgIHRyYW5zaXRpb24tZGVsYXk6IC41cztcbiAgICAgIH1cbiAgICB9XG4gICAgLmNlbnRlciB7XG4gICAgICBvcGFjaXR5OiAxO1xuICAgICAgdHJhbnNpdGlvbi1kZWxheTogMXM7XG4gICAgfVxuICB9XG59XG5cbkBtZWRpYSBvbmx5IHNjcmVlbiBhbmQgKG1heC13aWR0aDogOTQwcHgpIHtcbiAgLmNvbnRhaW5lciB7XG4gICAgLmNlbnRlciB7XG4gICAgICBmb3JtIHtcbiAgICAgICAgLnZhbGlkYXRpb25NZXNzYWdlIHtcbiAgICAgICAgICBmb250LXNpemU6IC44cmVtO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbkBtZWRpYSBvbmx5IHNjcmVlbiBhbmQgKG1heC13aWR0aDogNzAwcHgpIHtcbiAgLmNvbnRhaW5lciB7XG4gICAgLmNlbnRlciB7XG4gICAgICBmb3JtIHtcbiAgICAgICAgLmlucHV0cyB7XG4gICAgICAgICAgcGFkZGluZzogMTBweCAxNXB4O1xuICAgICAgICAgIG1hcmdpbjogM3B4IDA7XG5cbiAgICAgICAgfVxuICAgICAgICAudmFsaWRhdGlvbk1lc3NhZ2Uge1xuICAgICAgICAgIGZvbnQtc2l6ZTogLjdyZW07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuQG1lZGlhIG9ubHkgc2NyZWVuIGFuZCAobWF4LXdpZHRoOiA0MjBweCkge1xuICAuY29udGFpbmVyIHtcbiAgICAuY2VudGVyIHtcbiAgICAgIGZvcm0ge1xuICAgICAgICAuaW5wdXRzIHtcbiAgICAgICAgICBwYWRkaW5nOiAxNXB4O1xuICAgICAgICAgIG1hcmdpbjogMTBweCAwO1xuXG4gICAgICAgIH1cbiAgICAgICAgLnZhbGlkYXRpb25NZXNzYWdlIHtcbiAgICAgICAgICBmb250LXNpemU6IC45cmVtO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbkBtZWRpYSBvbmx5IHNjcmVlbiBhbmQgKG1heC13aWR0aDogMjgwcHgpIHtcbiAgLmNvbnRhaW5lciB7XG4gICAgLmNlbnRlciB7XG4gICAgICBmb3JtIHtcbiAgICAgICAgLmlucHV0cyB7XG4gICAgICAgICAgd2lkdGg6IDI0MHB4O1xuICAgICAgICAgIHBhZGRpbmc6IDE1cHggNXB4O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG59XG4iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n});","map":{"version":3,"mappings":"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","names":["FormControl","FormGroup","Validators","Subject","takeUntil","i0","LoginComponent","constructor","authService","cookieService","router","route","projectsService","email","required","password","minLength","ngOnInit","window","innerWidth","mobile","getProjects","ngAfterViewInit","queryParamMap","subscribe","params","get","form","setValue","isRegistered","nativeElement","focus","submit","markAllAsTouched","invalid","spinner","login","value","pipe","sub$","res","projects","length","navigate","next","data","forEach","project","push","error","err","console","log","selectors","viewQuery","ctx"],"sourceRoot":"","sources":["/Users/macbookpro/Desktop/GitHubRepo/Task-Manager-with-NgRx/src/app/pages/auth/login/login.component.ts","/Users/macbookpro/Desktop/GitHubRepo/Task-Manager-with-NgRx/src/app/pages/auth/login/login.component.html"],"sourcesContent":["import {AfterViewInit, Component, ElementRef, OnInit, ViewChild} from '@angular/core';\nimport {\n  FormControl,\n  FormGroup,\n  UntypedFormGroup,\n  Validators,\n} from '@angular/forms';\nimport { AuthService } from '../../../core/services';\nimport {ActivatedRoute, Router} from '@angular/router';\nimport { Subject, takeUntil } from 'rxjs';\nimport {CookieService} from \"../../../core/services/cookie.service\";\nimport {ProjectService} from \"../../../core/services/project.service\";\nimport {IProject} from \"../../../core/interfaces/iproject\";\n\n\n@Component({\n  selector: 'app-login',\n  templateUrl: './login.component.html',\n  styleUrls: ['./login.component.scss'],\n})\nexport class LoginComponent implements AfterViewInit, OnInit {\n  form: FormGroup = new FormGroup({\n    email: new FormControl('', [Validators.required, Validators.email]),\n    password: new FormControl('', [\n      Validators.required,\n      Validators.minLength(4),\n    ]),\n  });\n  sub$ = new Subject();\n  validateForm!: UntypedFormGroup;\n\n  constructor(\n    private authService: AuthService,\n    private cookieService: CookieService,\n    private router: Router,\n    private route: ActivatedRoute,\n    private projectsService: ProjectService,\n  ) {}\n\n  isRegistered: boolean = false;\n  mobile: boolean = false;\n  spinner: boolean = false;\n  diameter: number = 30;\n\n  projects: IProject[] = [];\n\n  @ViewChild('password') password!: ElementRef;\n\n  ngOnInit() {\n    window.innerWidth <= 1024 ? this.mobile = true : this.mobile = false;\n    this.getProjects();\n  }\n\n  ngAfterViewInit(): void {\n    this.route.queryParamMap.subscribe(params => {\n      params.get('email') && !params.get('fromRegistration') ? (this.form.get('email')?.setValue(params.get('email')), this.isRegistered = true) : null;\n    });\n    this.isRegistered ? this.password.nativeElement.focus() : null;\n  }\n\n  submit() {\n    this.form.markAllAsTouched();\n    if (this.form.invalid) return;\n    this.spinner = true;\n    this.authService\n      .login(this.form.value)\n      .pipe(takeUntil(this.sub$))\n      .subscribe((res) => {\n        this.getProjects();\n          if (this.projects.length > 0) {\n          this.router.navigate(['/']);\n        } else {\n          this.router.navigate(['/stepper']);\n        }\n      });\n\n  }\n\n  getProjects(){\n    this.projectsService.getProjects().subscribe({\n      next: res => res.data.forEach((project: any) => {\n        this.projects.push(project);\n      }),\n      error: err => console.log(err),\n    })\n  }\n}\n\n// if(res) {\n//   this.router.navigate(['/stepper']);\n// }\n","<div class=\"container\" [ngClass]=\"mobile ? 'mobile' : ''\" onclick=\"onclick\">\n  <div class=\"top\"></div>\n  <div class=\"bottom\"></div>\n  <div class=\"center\">\n    <h2>Please Sign In</h2>\n    <form [formGroup]=\"form\" (ngSubmit)=\"submit()\">\n      <div *ngIf=\"isRegistered\" class=\"validationMessage\">User with this Email already exists! Please sign in.</div>\n      <input type=\"email\" placeholder=\"email\" id=\"email\" class=\"inputs\" formControlName=\"email\"/>\n      <div *ngIf=\"form.get('email')?.getError('required')&& form.get('email')?.touched\"\n           class=\"validationMessage\">Email required!</div>\n      <div *ngIf=\"form.get('email')?.getError('email')&& form.get('email')?.touched\"\n           class=\"validationMessage\">Please enter Email in correct format!</div>\n\n      <input type=\"password\" placeholder=\"password\" id=\"password\" class=\"inputs\" formControlName=\"password\" #password/>\n      <div *ngIf=\"form.get('password')?.getError('required') && form.get('password')?.touched\"\n           class=\"validationMessage\">Password required!</div>\n      <div *ngIf=\"form.get('password')?.getError('minlength') && form.get('password')?.touched\">Please enter Password with min 6 symbol!</div>\n      <button type=\"submit\" class=\"inputs subBtn\">\n        <span *ngIf=\"!spinner\">Submit</span>\n        <mat-spinner class=\"spinner\" *ngIf=\"spinner\" [diameter]=\"diameter\" color=\"accent\"></mat-spinner>\n      </button>\n      <h4>Don't have an account? <a routerLink=\"/register\"> Register</a></h4>\n    </form>\n  </div>\n</div>\n\n\n\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}