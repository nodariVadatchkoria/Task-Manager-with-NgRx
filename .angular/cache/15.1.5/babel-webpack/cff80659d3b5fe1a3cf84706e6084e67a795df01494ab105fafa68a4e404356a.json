{"ast":null,"code":"import { BehaviorSubject, tap } from \"rxjs\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../core/services/project.service\";\nexport class ProjectFacade {\n  constructor(projectService) {\n    this.projectService = projectService;\n    this.myProjects = new BehaviorSubject([]);\n    this.myProjects$ = this.myProjects.asObservable();\n  }\n  // setProject(project: any) {\n  //   if (project) {\n  //     localStorage.setItem('project', JSON.stringify(project))\n  //   }\n  // }\n  getMyProjects$() {\n    return this.projectService.getAllProjects().pipe(tap(projects => this.myProjects.next(projects)));\n  }\n  getProject() {\n    const project = localStorage.getItem('project');\n    return project ? JSON.parse(project) : null;\n  }\n  setProjectId(projectId) {\n    this.projectService.getProjectById(projectId).subscribe(project => {\n      localStorage.setItem('project', JSON.stringify(project));\n    });\n  }\n  getProjectId() {\n    const project = localStorage.getItem('project');\n    return project ? JSON.parse(project).id : null;\n  }\n}\nProjectFacade.ɵfac = function ProjectFacade_Factory(t) {\n  return new (t || ProjectFacade)(i0.ɵɵinject(i1.ProjectService));\n};\nProjectFacade.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: ProjectFacade,\n  factory: ProjectFacade.ɵfac,\n  providedIn: 'root'\n});","map":{"version":3,"mappings":"AAEA,SAAQA,eAAe,EAAcC,GAAG,QAAO,MAAM;;;AAKrD,OAAM,MAAOC,aAAa;EAKxBC,YAAoBC,cAA8B;IAA9B,mBAAc,GAAdA,cAAc;IAHlC,eAAU,GAAgC,IAAIJ,eAAe,CAAa,EAAE,CAAC;IAC7E,gBAAW,GAAG,IAAI,CAACK,UAAU,CAACC,YAAY,EAAE;EAEU;EAEtD;EACA;EACA;EACA;EACA;EACFC,cAAc;IACV,OAAO,IAAI,CAACH,cAAc,CAACI,cAAc,EAAE,CACxCC,IAAI,CACHR,GAAG,CAACS,QAAQ,IAAI,IAAI,CAACL,UAAU,CAACM,IAAI,CAACD,QAAQ,CAAC,CAAC,CAChD;EACL;EACAE,UAAU;IACR,MAAMC,OAAO,GAAGC,YAAY,CAACC,OAAO,CAAC,SAAS,CAAC;IAE/C,OAAOF,OAAO,GAAGG,IAAI,CAACC,KAAK,CAACJ,OAAO,CAAC,GAAG,IAAI;EAC7C;EACAK,YAAY,CAACC,SAAc;IACzB,IAAI,CAACf,cAAc,CAACgB,cAAc,CAACD,SAAS,CAAC,CAACE,SAAS,CAAER,OAAO,IAAI;MAClEC,YAAY,CAACQ,OAAO,CAAC,SAAS,EAAEN,IAAI,CAACO,SAAS,CAACV,OAAO,CAAC,CAAC;IAC1D,CAAC,CACA;EACH;EACFW,YAAY;IACR,MAAMX,OAAO,GAAGC,YAAY,CAACC,OAAO,CAAC,SAAS,CAAC;IAC/C,OAAOF,OAAO,GAAGG,IAAI,CAACC,KAAK,CAACJ,OAAO,CAAC,CAACY,EAAE,GAAG,IAAI;EAChD;;AAhCWvB,aAAa;mBAAbA,aAAa;AAAA;AAAbA,aAAa;SAAbA,aAAa;EAAAwB,SAAbxB,aAAa;EAAAyB,YADA;AAAM","names":["BehaviorSubject","tap","ProjectFacade","constructor","projectService","myProjects","asObservable","getMyProjects$","getAllProjects","pipe","projects","next","getProject","project","localStorage","getItem","JSON","parse","setProjectId","projectId","getProjectById","subscribe","setItem","stringify","getProjectId","id","factory","providedIn"],"sourceRoot":"","sources":["/Users/macbookpro/Desktop/GitHubRepo/Task-Manager-with-NgRx/src/app/facades/project-facade.service.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\nimport {ProjectService} from \"../core/services/project.service\";\nimport {BehaviorSubject, Observable, tap} from \"rxjs\";\nimport {IProject} from \"../core/interfaces/iproject\";\nimport {PaginationResponse} from \"../core/interfaces/pagination-response\";\n\n@Injectable({ providedIn: 'root' })\nexport class ProjectFacade {\n\n  myProjects: BehaviorSubject<IProject[]> = new BehaviorSubject<IProject[]>([]);\n  myProjects$ = this.myProjects.asObservable();\n\n  constructor(private projectService: ProjectService ) {}\n\n  // setProject(project: any) {\n  //   if (project) {\n  //     localStorage.setItem('project', JSON.stringify(project))\n  //   }\n  // }\ngetMyProjects$(): Observable<IProject[]>{\n    return this.projectService.getAllProjects()\n      .pipe(\n        tap(projects => this.myProjects.next(projects)),\n      )\n  }\n  getProject():IProject {\n    const project = localStorage.getItem('project');\n\n    return project ? JSON.parse(project) : null;\n  }\n  setProjectId(projectId: any) {\n    this.projectService.getProjectById(projectId).subscribe((project) => {\n      localStorage.setItem('project', JSON.stringify(project));\n    }\n    )\n  }\ngetProjectId(): number {\n    const project = localStorage.getItem('project');\n    return project ? JSON.parse(project).id : null;\n  }\n\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}