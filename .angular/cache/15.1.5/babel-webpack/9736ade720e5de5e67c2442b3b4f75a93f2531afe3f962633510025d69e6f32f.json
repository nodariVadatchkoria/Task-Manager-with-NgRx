{"ast":null,"code":"import { createReducer, on } from \"@ngrx/store\";\nimport { initCurrentProject, loadProjects, loadProjectsFailure, loadProjectsSuccess, setProjectSuccess } from \"./project.actions\";\nconst initialState = {\n  projects: [],\n  projectUsers: [],\n  currentProject: null\n};\nexport const projectReducer = createReducer(initialState, on(loadProjects, state => state), on(loadProjectsSuccess, (state, action) => {\n  return {\n    ...state,\n    projects: action.projects\n  };\n}), on(loadProjectsFailure, (state, action) => state),\n// on(setProject, (state, action) => {\n//     const project = state.projects.find((project) => project.id === +action.projectId);\n//     project && localStorage.setItem('project', JSON.stringify(project));\n//     return {\n//         ...state,\n//         currentProject: project || null\n//     };\n// }),\non(setProjectSuccess, (state, action) => {\n  return {\n    ...state,\n    currentProject: action.project\n  };\n}), on(initCurrentProject, state => {\n  const project = localStorage.getItem('project');\n  return {\n    ...state,\n    currentProject: project ? JSON.parse(project) : null\n  };\n}), on(loadProjectsSuccess));\n;","map":{"version":3,"mappings":"AAAA,SAAQA,aAAa,EAAEC,EAAE,QAAO,aAAa;AAC7C,SACIC,kBAAkB,EAClBC,YAAY,EACZC,mBAAmB,EACnBC,mBAAmB,EAGnBC,iBAAiB,QACd,mBAAmB;AAU1B,MAAMC,YAAY,GAAwB;EACtCC,QAAQ,EAAE,EAAE;EACZC,YAAY,EAAE,EAAE;EAChBC,cAAc,EAAE;CACnB;AACD,OAAO,MAAMC,cAAc,GAAGX,aAAa,CACvCO,YAAY,EACZN,EAAE,CAACE,YAAY,EAAES,KAAK,IAAIA,KAAK,CAAC,EAChCX,EAAE,CAACI,mBAAmB,EAAE,CAACO,KAAK,EAAEC,MAAM,KAAI;EACtC,OAAO;IACH,GAAGD,KAAK;IACRJ,QAAQ,EAAEK,MAAM,CAACL;GACpB;AACL,CAAC,CACA,EACDP,EAAE,CAACG,mBAAmB,EAAE,CAACQ,KAAK,EAAEC,MAAM,KAAKD,KAAK,CAAC;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACAX,EAAE,CAACK,iBAAiB,EAAE,CAACM,KAAK,EAAEC,MAAM,KAAI;EAEpC,OAAO;IACH,GAAGD,KAAK;IACRF,cAAc,EAAEG,MAAM,CAACC;GAC1B;AACD,CAAC,CACJ,EACDb,EAAE,CAACC,kBAAkB,EAAGU,KAAK,IAAI;EAC7B,MAAME,OAAO,GAAGC,YAAY,CAACC,OAAO,CAAC,SAAS,CAAC;EAC/C,OAAO;IACH,GAAGJ,KAAK;IACRF,cAAc,EAAEI,OAAO,GAAGG,IAAI,CAACC,KAAK,CAACJ,OAAO,CAAC,GAAG;GACnD;AACL,CAAC,CAAC,EACFb,EAAE,CAAEI,mBAAmB;AAC1B","names":["createReducer","on","initCurrentProject","loadProjects","loadProjectsFailure","loadProjectsSuccess","setProjectSuccess","initialState","projects","projectUsers","currentProject","projectReducer","state","action","project","localStorage","getItem","JSON","parse"],"sourceRoot":"","sources":["/Users/macbookpro/Desktop/GitHubRepo/Task-Manager-with-NgRx/src/app/store/rxProject/project.reducer.ts"],"sourcesContent":["import {createReducer, on} from \"@ngrx/store\";\nimport {\n    initCurrentProject,\n    loadProjects,\n    loadProjectsFailure,\n    loadProjectsSuccess,\n    setProject,\n    setProjectFailure,\n    setProjectSuccess\n} from \"./project.actions\";\nimport {IProject} from \"../../core/interfaces/iproject\";\nimport {User} from \"../../core/interfaces\";\n\nexport interface ProjectStateModule {\n    projects: IProject[];\n    projectUsers: User[];\n    currentProject: IProject | null;\n\n}\nconst initialState : ProjectStateModule = {\n    projects: [],\n    projectUsers: [],\n    currentProject: null\n};\nexport const projectReducer = createReducer(\n    initialState,\n    on(loadProjects, state => state),\n    on(loadProjectsSuccess, (state, action) => {\n        return {\n            ...state,\n            projects: action.projects\n        };\n    }\n    ),\n    on(loadProjectsFailure, (state, action) => state),\n    // on(setProject, (state, action) => {\n    //     const project = state.projects.find((project) => project.id === +action.projectId);\n    //     project && localStorage.setItem('project', JSON.stringify(project));\n    //     return {\n    //         ...state,\n    //         currentProject: project || null\n    //     };\n    // }),\n    on(setProjectSuccess, (state, action) => {\n\n        return {\n            ...state,\n            currentProject: action.project\n        };\n        }\n    ),\n    on(initCurrentProject, (state) => {\n        const project = localStorage.getItem('project');\n        return {\n            ...state,\n            currentProject: project ? JSON.parse(project) : null\n        }\n    }),\n    on (loadProjectsSuccess})\n);"]},"metadata":{},"sourceType":"module","externalDependencies":[]}