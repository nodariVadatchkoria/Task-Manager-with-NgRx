{"ast":null,"code":"import { MatTableDataSource } from \"@angular/material/table\";\nimport { Subject } from \"rxjs\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../../core/services/role.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/material/button\";\nimport * as i4 from \"@angular/material/table\";\nimport * as i5 from \"@angular/material/paginator\";\nfunction RolesComponent_th_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 12);\n    i0.ɵɵtext(1, \" # \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction RolesComponent_td_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 13);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const element_r10 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", element_r10.id, \" \");\n  }\n}\nfunction RolesComponent_th_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 12);\n    i0.ɵɵtext(1, \" name \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction RolesComponent_td_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 13);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const element_r11 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", element_r11.name, \" \");\n  }\n}\nfunction RolesComponent_th_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 12);\n    i0.ɵɵtext(1, \" Created At \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction RolesComponent_td_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 13);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const element_r12 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", element_r12.createdAt, \" \");\n  }\n}\nfunction RolesComponent_th_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"th\", 12);\n  }\n}\nconst _c0 = function (a1) {\n  return [\"/roles/permission\", a1];\n};\nfunction RolesComponent_td_16_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r15 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"td\", 13)(1, \"button\", 0);\n    i0.ɵɵlistener(\"click\", function RolesComponent_td_16_Template_button_click_1_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r15);\n      const element_r13 = restoredCtx.$implicit;\n      const ctx_r14 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r14.addRole(element_r13.id));\n    });\n    i0.ɵɵtext(2, \"Edit\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"button\", 14);\n    i0.ɵɵtext(4, \"Permissions\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"button\", 15);\n    i0.ɵɵlistener(\"click\", function RolesComponent_td_16_Template_button_click_5_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r15);\n      const element_r13 = restoredCtx.$implicit;\n      const ctx_r16 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r16.delete(element_r13.id));\n    });\n    i0.ɵɵtext(6, \"Delete\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const element_r13 = ctx.$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(1, _c0, element_r13.id));\n  }\n}\nfunction RolesComponent_tr_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tr\", 16);\n  }\n}\nfunction RolesComponent_tr_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tr\", 17);\n  }\n}\nconst _c1 = function () {\n  return [5, 10, 25, 100];\n};\nexport class RolesComponent {\n  constructor(roleService) {\n    this.roleService = roleService;\n    this.displayedColumns = ['id', 'name', 'createdAt', 'actions'];\n    this.dataSource = new MatTableDataSource();\n    this.sub$ = new Subject();\n    this.pageIndex = 1;\n    this.total = 0;\n    this.pageSize = 10;\n  }\n  ngOnInit() {\n    this.getRoles();\n  }\n  getRoles() {\n    this.roleService.getRoles({\n      page: this.pageIndex,\n      limit: this.pageSize\n    }).subscribe(roles => {\n      this.dataSource.data = roles.data;\n      this.total = roles.totalCount;\n    });\n  }\n  addRole(id) {}\n  delete(id) {}\n  pageEvent($event) {\n    console.log($event);\n    this.pageIndex = $event.pageIndex + 1;\n    this.pageSize = $event.pageSize;\n    this.getRoles();\n  }\n  setPermissions(id) {\n    console.log(id);\n  }\n}\nRolesComponent.ɵfac = function RolesComponent_Factory(t) {\n  return new (t || RolesComponent)(i0.ɵɵdirectiveInject(i1.RoleService));\n};\nRolesComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: RolesComponent,\n  selectors: [[\"app-roles\"]],\n  decls: 20,\n  vars: 8,\n  consts: [[\"mat-raised-button\", \"\", \"color\", \"primary\", 3, \"click\"], [1, \"container\"], [\"mat-table\", \"\", 1, \"mat-elevation-z8\", 3, \"dataSource\"], [\"matColumnDef\", \"id\"], [\"mat-header-cell\", \"\", 4, \"matHeaderCellDef\"], [\"mat-cell\", \"\", 4, \"matCellDef\"], [\"matColumnDef\", \"name\"], [\"matColumnDef\", \"createdAt\"], [\"matColumnDef\", \"actions\"], [\"mat-header-row\", \"\", 4, \"matHeaderRowDef\"], [\"mat-row\", \"\", 4, \"matRowDef\", \"matRowDefColumns\"], [\"aria-label\", \"Select page\", 3, \"length\", \"pageSize\", \"pageIndex\", \"pageSizeOptions\", \"page\"], [\"mat-header-cell\", \"\"], [\"mat-cell\", \"\"], [\"mat-raised-button\", \"\", \"color\", \"primary\", 3, \"routerLink\"], [\"mat-raised-button\", \"\", \"color\", \"warn\", 3, \"click\"], [\"mat-header-row\", \"\"], [\"mat-row\", \"\"]],\n  template: function RolesComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\")(1, \"button\", 0);\n      i0.ɵɵlistener(\"click\", function RolesComponent_Template_button_click_1_listener() {\n        return ctx.addRole();\n      });\n      i0.ɵɵtext(2, \"Add User\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(3, \"div\", 1)(4, \"table\", 2);\n      i0.ɵɵelementContainerStart(5, 3);\n      i0.ɵɵtemplate(6, RolesComponent_th_6_Template, 2, 0, \"th\", 4);\n      i0.ɵɵtemplate(7, RolesComponent_td_7_Template, 2, 1, \"td\", 5);\n      i0.ɵɵelementContainerEnd();\n      i0.ɵɵelementContainerStart(8, 6);\n      i0.ɵɵtemplate(9, RolesComponent_th_9_Template, 2, 0, \"th\", 4);\n      i0.ɵɵtemplate(10, RolesComponent_td_10_Template, 2, 1, \"td\", 5);\n      i0.ɵɵelementContainerEnd();\n      i0.ɵɵelementContainerStart(11, 7);\n      i0.ɵɵtemplate(12, RolesComponent_th_12_Template, 2, 0, \"th\", 4);\n      i0.ɵɵtemplate(13, RolesComponent_td_13_Template, 2, 1, \"td\", 5);\n      i0.ɵɵelementContainerEnd();\n      i0.ɵɵelementContainerStart(14, 8);\n      i0.ɵɵtemplate(15, RolesComponent_th_15_Template, 1, 0, \"th\", 4);\n      i0.ɵɵtemplate(16, RolesComponent_td_16_Template, 7, 3, \"td\", 5);\n      i0.ɵɵelementContainerEnd();\n      i0.ɵɵtemplate(17, RolesComponent_tr_17_Template, 1, 0, \"tr\", 9);\n      i0.ɵɵtemplate(18, RolesComponent_tr_18_Template, 1, 0, \"tr\", 10);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(19, \"mat-paginator\", 11);\n      i0.ɵɵlistener(\"page\", function RolesComponent_Template_mat_paginator_page_19_listener($event) {\n        return ctx.pageEvent($event);\n      });\n      i0.ɵɵelementEnd()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"dataSource\", ctx.dataSource);\n      i0.ɵɵadvance(13);\n      i0.ɵɵproperty(\"matHeaderRowDef\", ctx.displayedColumns);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"matRowDefColumns\", ctx.displayedColumns);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"length\", ctx.total)(\"pageSize\", ctx.pageSize)(\"pageIndex\", ctx.pageIndex)(\"pageSizeOptions\", i0.ɵɵpureFunction0(7, _c1));\n    }\n  },\n  dependencies: [i2.RouterLink, i3.MatButton, i4.MatTable, i4.MatHeaderCellDef, i4.MatHeaderRowDef, i4.MatColumnDef, i4.MatCellDef, i4.MatRowDef, i4.MatHeaderCell, i4.MatCell, i4.MatHeaderRow, i4.MatRow, i5.MatPaginator],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"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","names":["MatTableDataSource","Subject","i0","RolesComponent","constructor","roleService","ngOnInit","getRoles","page","pageIndex","limit","pageSize","subscribe","roles","dataSource","data","total","totalCount","addRole","id","delete","pageEvent","$event","console","log","setPermissions","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["/Users/macbookpro/Desktop/GitHubRepo/Task-Manager-with-NgRx/src/app/pages/roles/roles/roles.component.ts","/Users/macbookpro/Desktop/GitHubRepo/Task-Manager-with-NgRx/src/app/pages/roles/roles/roles.component.html"],"sourcesContent":["import {Component, OnInit} from '@angular/core';\nimport {RoleService} from \"../../../core/services/role.service\";\nimport {IRole} from \"../../../core/interfaces/role\";\nimport {MatTableDataSource} from \"@angular/material/table\";\nimport {Subject} from \"rxjs\";\nimport {PageEvent} from \"@angular/material/paginator\";\n\n@Component({\n  selector: 'app-roles',\n  templateUrl: './roles.component.html',\n  styleUrls: ['./roles.component.scss']\n})\nexport class RolesComponent implements OnInit{\n\n  displayedColumns = ['id', 'name', 'createdAt', 'actions'];\n\n  dataSource = new MatTableDataSource<IRole>();\n\n  sub$ = new Subject();\n\n  pageIndex  = 1;\n  total = 0;\n  pageSize = 10;\n\n\n  constructor(\n    private roleService: RoleService,\n  ) {\n\n  }\n\n  ngOnInit(): void {\n    this.getRoles();\n  }\n\n  getRoles() {\n    this.roleService.getRoles({\n      page: this.pageIndex,\n      limit: this.pageSize\n    })\n      .subscribe(roles => {\n        this.dataSource.data = roles.data;\n        this.total = roles.totalCount;\n      });\n  }\n\n  addRole(id?: number) {\n\n  }\n\n  delete(id: number) {\n\n  }\n\n  pageEvent($event: PageEvent) {\n    console.log($event)\n    this.pageIndex = $event.pageIndex + 1;\n    this.pageSize = $event.pageSize;\n    this.getRoles()\n  }\n\n  setPermissions(id: number) {\n    console.log(id)\n  }\n\n}\n","\n\n<div>\n  <button mat-raised-button color=\"primary\" (click)=\"addRole()\">Add User</button>\n</div>\n\n\n<div class=\"container\">\n  <table mat-table [dataSource]=\"dataSource\" class=\"mat-elevation-z8\">\n\n    <!-- Name Column -->\n    <ng-container matColumnDef=\"id\">\n      <th mat-header-cell *matHeaderCellDef> # </th>\n      <td mat-cell *matCellDef=\"let element\"> {{element.id}} </td>\n    </ng-container>\n\n    <!-- Name Column -->\n    <ng-container matColumnDef=\"name\">\n      <th mat-header-cell *matHeaderCellDef> name </th>\n      <td mat-cell *matCellDef=\"let element\"> {{element.name}} </td>\n    </ng-container>\n\n    <!-- Name Column -->\n    <ng-container matColumnDef=\"createdAt\">\n      <th mat-header-cell *matHeaderCellDef> Created At </th>\n      <td mat-cell *matCellDef=\"let element\"> {{element.createdAt}} </td>\n    </ng-container>\n\n    <!-- Name Column -->\n    <ng-container matColumnDef=\"actions\">\n      <th mat-header-cell *matHeaderCellDef>  </th>\n      <td mat-cell *matCellDef=\"let element\">\n        <button mat-raised-button color=\"primary\" (click)=\"addRole(element.id)\">Edit</button>\n        <button mat-raised-button color=\"primary\" [routerLink]=\"['/roles/permission', element.id]\">Permissions</button>\n        <button mat-raised-button color=\"warn\" (click)=\"delete(element.id)\">Delete</button>\n      </td>\n    </ng-container>\n\n\n    <tr mat-header-row *matHeaderRowDef=\"displayedColumns\"></tr>\n    <tr mat-row *matRowDef=\"let row; columns: displayedColumns;\"></tr>\n  </table>\n\n  <mat-paginator [length]=\"total\"\n                 [pageSize]=\"pageSize\"\n                 [pageIndex]=\"pageIndex\"\n                 [pageSizeOptions]=\"[5, 10, 25, 100]\"\n                 (page)=\"pageEvent($event)\"\n                 aria-label=\"Select page\">\n  </mat-paginator>\n</div>\n\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}