{"ast":null,"code":"import { DOCUMENT } from \"@angular/common\";\nimport { stepper, src } from \"../../shared\";\nimport { CreateBoardComponent } from \"./create-board/create-board.component\";\nimport { CreateProjectComponent } from \"./create-project/create-project.component\";\nimport { CreateIssueTypesComponent } from \"./create-issue-types/create-issue-types.component\";\nimport { AddUsersComponent } from \"./add-users/add-users.component\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/core/services/stepper.next.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@angular/material/stepper\";\nimport * as i5 from \"@angular/material/button\";\nimport * as i6 from \"./create-project/create-project.component\";\nimport * as i7 from \"./create-board/create-board.component\";\nimport * as i8 from \"./create-issue-types/create-issue-types.component\";\nimport * as i9 from \"./add-users/add-users.component\";\nconst _c0 = [\"header\"];\nconst _c1 = [\"backgroundImg\"];\nfunction StepperComponent_ng_template_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0, \"Project\");\n  }\n}\nfunction StepperComponent_ng_template_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0, \"Board\");\n  }\n}\nfunction StepperComponent_ng_template_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0, \"Issue Type\");\n  }\n}\nfunction StepperComponent_ng_template_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0, \"Users\");\n  }\n}\nfunction StepperComponent_ng_template_23_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0, \"Done\");\n  }\n}\nfunction StepperComponent_ng_template_33_span_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 19);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const i_r12 = ctx.index;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", i_r12 + 1, \" \");\n  }\n}\nfunction StepperComponent_ng_template_33_p_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 20);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const inf_r13 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", inf_r13.description1, \" \");\n  }\n}\nfunction StepperComponent_ng_template_33_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 15)(1, \"h1\");\n    i0.ɵɵtext(2, \"Step \");\n    i0.ɵɵelementStart(3, \"span\", 16);\n    i0.ɵɵtemplate(4, StepperComponent_ng_template_33_span_4_Template, 2, 1, \"span\", 17);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(5, \"div\");\n    i0.ɵɵtemplate(6, StepperComponent_ng_template_33_p_6_Template, 2, 1, \"p\", 18);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r8 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r8.stepsCountArray);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r8.stepperInfo);\n  }\n}\nexport class StepperComponent {\n  constructor(stepperService, viewContainer, elRef, document) {\n    this.stepperService = stepperService;\n    this.viewContainer = viewContainer;\n    this.elRef = elRef;\n    this.document = document;\n    this.isEditable = true;\n    this.nextStepOpen$ = this.stepperService.nextStepOpen$;\n    this.linear = this.stepperService.isLinear$;\n    this.completed = this.stepperService.isCompleted$;\n    this.stepsCountArray = [];\n    this.activeIndex = 1; // shesacvleli iqneba tu davimaxsovrebt actiur steps refreshamde // localStorage\n    this.src = src;\n    this.srcIndex = 0;\n    this.stepperInfo = stepper;\n  }\n  ngOnInit() {}\n  goBack() {\n    this.stepperService.changeFromLinear();\n    this.stepperService.openNextStep(3);\n    setTimeout(() => {\n      this.stepperService.changeToLinear();\n    }, 500);\n  }\n  ngAfterViewInit() {\n    setTimeout(() => {\n      this.headerTemplate = this.viewContainer.createEmbeddedView(this.header).rootNodes[0];\n      const headerContainer = this.elRef.nativeElement.querySelector('.mat-horizontal-stepper-header-container');\n      headerContainer?.prepend(this.headerTemplate);\n      const div = document.createElement('div');\n      div.classList.add('custom-line');\n      const linesCollection = document.getElementsByClassName('mat-stepper-horizontal-line');\n      linesCollection[0].appendChild(div);\n    }, 100);\n    this.stepsCount = this.document.getElementsByClassName('mat-horizontal-stepper-content').length;\n    this.stepsCountArray.length = this.stepsCount;\n    // this.getSteps()\n    this.activeComponent();\n  }\n  getActiveStep(event) {\n    this.activeIndex = event.selectedIndex + 1;\n    Array.from(document.getElementsByClassName('counter')).forEach(item => {\n      item.setAttribute(\"style\", `transform: translateY(-${event.selectedIndex * 2}rem`);\n    });\n    Array.from(document.getElementsByClassName('description-1')).forEach(item => {\n      item.setAttribute(\"style\", `transform: translateX(-${event.selectedIndex * 100}%`);\n    });\n    const customLine = document.querySelector('.custom-line');\n    const label = document.querySelectorAll('.mat-step-label');\n    const linesCollection = document.getElementsByClassName('mat-stepper-horizontal-line');\n    const height = linesCollection[0].getBoundingClientRect().height;\n    let index = 0;\n    this.bgImg.nativeElement.classList.add('img');\n    setTimeout(() => {\n      Array.from(label).forEach((lab, i) => {\n        if (lab.classList.contains('mat-step-label-selected')) {\n          setTimeout(() => {\n            this.srcIndex = i;\n            setTimeout(() => {\n              this.bgImg.nativeElement.classList.remove('img');\n            }, 400);\n          }, 300);\n          index = i;\n        }\n      });\n      customLine.style.height = height * index + 30 * index + 'px';\n    }, 100);\n    this.activeComponent();\n  }\n  activeComponent() {\n    switch (this.activeIndex - 1) {\n      case 0:\n        this.project.projectComponent(0);\n        break;\n      case 1:\n        this.board.boardComponent(1);\n        break;\n      case 2:\n        this.issue.issueComponent(2);\n        break;\n      case 3:\n        this.users.usersComponent(3);\n        break;\n    }\n  }\n}\nStepperComponent.ɵfac = function StepperComponent_Factory(t) {\n  return new (t || StepperComponent)(i0.ɵɵdirectiveInject(i1.StepperNextService), i0.ɵɵdirectiveInject(i0.ViewContainerRef), i0.ɵɵdirectiveInject(i0.ElementRef), i0.ɵɵdirectiveInject(DOCUMENT));\n};\nStepperComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: StepperComponent,\n  selectors: [[\"app-stepper\"]],\n  viewQuery: function StepperComponent_Query(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵviewQuery(_c0, 5);\n      i0.ɵɵviewQuery(_c1, 5);\n      i0.ɵɵviewQuery(CreateProjectComponent, 5);\n      i0.ɵɵviewQuery(CreateBoardComponent, 5);\n      i0.ɵɵviewQuery(CreateIssueTypesComponent, 5);\n      i0.ɵɵviewQuery(AddUsersComponent, 5);\n    }\n    if (rf & 2) {\n      let _t;\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.header = _t.first);\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.bgImg = _t.first);\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.project = _t.first);\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.board = _t.first);\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.issue = _t.first);\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.users = _t.first);\n    }\n  },\n  decls: 35,\n  vars: 11,\n  consts: [[\"routerLink\", \"\"], [\"alt\", \"background\", 3, \"src\"], [\"backgroundImg\", \"\"], [1, \"stepper\", 3, \"linear\", \"selectedIndex\", \"selectionChange\"], [\"stepper\", \"\"], [3, \"editable\"], [\"matStepLabel\", \"\"], [1, \"done\"], [1, \"flex\"], [1, \"margin-auto\"], [1, \"para\"], [\"mat-button\", \"\", \"matStepperPrevious\", \"\", 3, \"click\"], [\"mat-button\", \"\", 3, \"click\"], [\"mat-button\", \"\", \"matStepperNext\", \"\", \"routerLink\", \"/application/current\", 2, \"background-color\", \"#303f9f\"], [\"header\", \"\"], [1, \"step-header\"], [1, \"span\"], [\"class\", \"counter\", 4, \"ngFor\", \"ngForOf\"], [\"class\", \"description-1\", 4, \"ngFor\", \"ngForOf\"], [1, \"counter\"], [1, \"description-1\"]],\n  template: function StepperComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      const _r14 = i0.ɵɵgetCurrentView();\n      i0.ɵɵelementStart(0, \"a\", 0);\n      i0.ɵɵtext(1, \"Home\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(2, \"img\", 1, 2);\n      i0.ɵɵelementStart(4, \"mat-stepper\", 3, 4);\n      i0.ɵɵlistener(\"selectionChange\", function StepperComponent_Template_mat_stepper_selectionChange_4_listener($event) {\n        return ctx.getActiveStep($event);\n      });\n      i0.ɵɵpipe(6, \"async\");\n      i0.ɵɵpipe(7, \"async\");\n      i0.ɵɵelementStart(8, \"mat-step\", 5);\n      i0.ɵɵtemplate(9, StepperComponent_ng_template_9_Template, 1, 0, \"ng-template\", 6);\n      i0.ɵɵelement(10, \"app-create-project\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(11, \"mat-step\", 5);\n      i0.ɵɵtemplate(12, StepperComponent_ng_template_12_Template, 1, 0, \"ng-template\", 6);\n      i0.ɵɵelement(13, \"app-create-board\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(14, \"mat-step\", 5);\n      i0.ɵɵtemplate(15, StepperComponent_ng_template_15_Template, 1, 0, \"ng-template\", 6);\n      i0.ɵɵelement(16, \"app-create-issue-types\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(17, \"mat-step\", 5);\n      i0.ɵɵtemplate(18, StepperComponent_ng_template_18_Template, 1, 0, \"ng-template\", 6);\n      i0.ɵɵelement(19, \"app-add-users\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(20, \"mat-step\", 7)(21, \"div\", 8)(22, \"div\", 9);\n      i0.ɵɵtemplate(23, StepperComponent_ng_template_23_Template, 1, 0, \"ng-template\", 6);\n      i0.ɵɵelementStart(24, \"p\", 10);\n      i0.ɵɵtext(25, \"Great, your project is now being created!\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(26, \"div\")(27, \"button\", 11);\n      i0.ɵɵlistener(\"click\", function StepperComponent_Template_button_click_27_listener() {\n        return ctx.goBack();\n      });\n      i0.ɵɵtext(28, \"Back\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(29, \"button\", 12);\n      i0.ɵɵlistener(\"click\", function StepperComponent_Template_button_click_29_listener() {\n        i0.ɵɵrestoreView(_r14);\n        const _r1 = i0.ɵɵreference(5);\n        return i0.ɵɵresetView(_r1.reset());\n      });\n      i0.ɵɵtext(30, \"Reset\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(31, \"button\", 13);\n      i0.ɵɵtext(32, \"Finish\");\n      i0.ɵɵelementEnd()()()()()();\n      i0.ɵɵtemplate(33, StepperComponent_ng_template_33_Template, 7, 2, \"ng-template\", null, 14, i0.ɵɵtemplateRefExtractor);\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"src\", ctx.src[ctx.srcIndex], i0.ɵɵsanitizeUrl);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"linear\", i0.ɵɵpipeBind1(6, 7, ctx.linear))(\"selectedIndex\", i0.ɵɵpipeBind1(7, 9, ctx.nextStepOpen$));\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"editable\", ctx.isEditable);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"editable\", ctx.isEditable);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"editable\", ctx.isEditable);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"editable\", ctx.isEditable);\n    }\n  },\n  dependencies: [i2.NgForOf, i3.RouterLink, i4.MatStep, i4.MatStepLabel, i4.MatStepper, i4.MatStepperNext, i4.MatStepperPrevious, i5.MatButton, i6.CreateProjectComponent, i7.CreateBoardComponent, i8.CreateIssueTypesComponent, i9.AddUsersComponent, i2.AsyncPipe],\n  styles: [\"[_ngcontent-%COMP%]:root {\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n  position: relative;\\n}\\n\\nimg[_ngcontent-%COMP%] {\\n  position: absolute;\\n  right: 50px;\\n  bottom: 50px;\\n  z-index: 0;\\n  opacity: 1;\\n  pointer-events: none;\\n  transition: 0.3s;\\n}\\n\\nimg.img[_ngcontent-%COMP%] {\\n  opacity: 0;\\n}\\n\\n.finishBtn[_ngcontent-%COMP%] {\\n  background-color: #303f9f;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvcGFnZXMvc3RlcHBlci9zdGVwcGVyLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztDQUFBOztBQXdDQTtFQUNFLGFBQUE7RUFDQSx1QkFBQTtFQUNBLG1CQUFBO0VBQ0Esa0JBQUE7QUFBRjs7QUFHQTtFQUNFLGtCQUFBO0VBQ0EsV0FBQTtFQUNBLFlBQUE7RUFDQSxVQUFBO0VBQ0EsVUFBQTtFQUNBLG9CQUFBO0VBQ0EsZ0JBQUE7QUFBRjs7QUFFRTtFQUNFLFVBQUE7QUFBSjs7QUFHQTtFQUNFLHlCQUFBO0FBQUYiLCJzb3VyY2VzQ29udGVudCI6WyIvKi5tYXQtc3RlcHBlci1ob3Jpem9udGFsIHtcbiAgbWFyZ2luLXRvcDogMTAwcHg7XG59XG5cbi5tYXQtbWRjLWZvcm0tZmllbGQge1xuICBtYXJnaW4tdG9wOiAxOHB4O1xufVxuXG4uc3RlcHBlciB7XG4gIG1heC13aWR0aDogOTAlO1xuICBtYXJnaW4tbGVmdDogYXV0bztcbiAgbWFyZ2luLXJpZ2h0OiBhdXRvO1xufVxuXG4uc3RlcC1mb3JtLWZpZWxkIHtcbiAgbWFyZ2luLXRvcDogNzBweDtcbn1cblxuLmRvbmUge1xuICBkaXNwbGF5OiBmbGV4O1xufVxuXG4uZmxleCB7XG4gIGRpc3BsYXk6IGZsZXg7XG59XG5cbi5wYXJhIHtcbiAgZm9udC1zaXplOiAyMHB4O1xuICBtYXJnaW4tYm90dG9tOiA1MHB4O1xufVxuXG4ubWFyZ2luLWF1dG8ge1xuICBtYXJnaW4tdG9wOiAxNTBweDtcbiAgZGlzcGxheTogZmxleDtcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgbWFyZ2luLWxlZnQ6IGF1dG87XG4gIG1hcmdpbi1yaWdodDogYXV0bztcbn1cbiovXG5cbjpyb290IHtcbiAgZGlzcGxheTogZmxleDtcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbn1cblxuaW1nIHtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICByaWdodDogNTBweDtcbiAgYm90dG9tOiA1MHB4O1xuICB6LWluZGV4OiAwO1xuICBvcGFjaXR5OiAxO1xuICBwb2ludGVyLWV2ZW50czogbm9uZTtcbiAgdHJhbnNpdGlvbjogLjNzO1xuXG4gICYuaW1nIHtcbiAgICBvcGFjaXR5OiAwO1xuICB9XG59XG4uZmluaXNoQnRue1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMzAzZjlmO1xufVxuIl0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"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","names":["DOCUMENT","stepper","src","CreateBoardComponent","CreateProjectComponent","CreateIssueTypesComponent","AddUsersComponent","i0","StepperComponent","constructor","stepperService","viewContainer","elRef","document","nextStepOpen$","isLinear$","isCompleted$","ngOnInit","goBack","changeFromLinear","openNextStep","setTimeout","changeToLinear","ngAfterViewInit","headerTemplate","createEmbeddedView","header","rootNodes","headerContainer","nativeElement","querySelector","prepend","div","createElement","classList","add","linesCollection","getElementsByClassName","appendChild","stepsCount","length","stepsCountArray","activeComponent","getActiveStep","event","activeIndex","selectedIndex","Array","from","forEach","item","setAttribute","customLine","label","querySelectorAll","height","getBoundingClientRect","index","bgImg","lab","i","contains","srcIndex","remove","style","project","projectComponent","board","boardComponent","issue","issueComponent","users","usersComponent","selectors","viewQuery","ctx"],"sourceRoot":"","sources":["/Users/macbookpro/Desktop/GitHubRepo/Task-Manager-with-NgRx/src/app/pages/stepper/stepper.component.ts","/Users/macbookpro/Desktop/GitHubRepo/Task-Manager-with-NgRx/src/app/pages/stepper/stepper.component.html"],"sourcesContent":["import {\n  AfterViewInit,\n  Component,\n  ElementRef, Inject,\n  OnInit,\n  TemplateRef,\n  ViewChild,\n  ViewContainerRef\n} from '@angular/core';\n\nimport {StepperNextService} from 'src/app/core/services/stepper.next.service';\nimport {from, Observable, of, timeout} from 'rxjs';\nimport {DOCUMENT} from \"@angular/common\";\nimport {stepper, src} from \"../../shared\";\nimport {CreateBoardComponent} from \"./create-board/create-board.component\";\nimport {CreateProjectComponent} from \"./create-project/create-project.component\";\nimport {CreateIssueTypesComponent} from \"./create-issue-types/create-issue-types.component\";\nimport {AddUsersComponent} from \"./add-users/add-users.component\";\n\n@Component({\n  selector: 'app-stepper',\n  templateUrl: './stepper.component.html',\n  styleUrls: ['./stepper.component.scss'],\n})\nexport class StepperComponent implements OnInit, AfterViewInit {\n  isEditable = true;\n\n  nextStepOpen$: Observable<number> = this.stepperService.nextStepOpen$;\n\n  linear = this.stepperService.isLinear$;\n\n  completed = this.stepperService.isCompleted$;\n\n  constructor(\n    private stepperService: StepperNextService,\n    private viewContainer: ViewContainerRef,\n    private elRef: ElementRef,\n    @Inject(DOCUMENT) private document: Document\n  ) {\n  }\n\n  ngOnInit(): void {\n  }\n\n  goBack() {\n    this.stepperService.changeFromLinear();\n    this.stepperService.openNextStep(3);\n\n    setTimeout(() => {\n      this.stepperService.changeToLinear();\n    }, 500);\n  }\n\n  @ViewChild('header') header!: TemplateRef<any>;\n  @ViewChild('backgroundImg') bgImg!: ElementRef;\n\n  headerTemplate!: HTMLElement;\n  stepsCount?: number;\n  stepsCountArray = [];\n\n  ngAfterViewInit() {\n    setTimeout(() => { // ExpressionChangedAfterItHasBeenCheckedError\n      this.headerTemplate = this.viewContainer.createEmbeddedView(this.header).rootNodes[0];\n\n      const headerContainer = this.elRef.nativeElement.querySelector('.mat-horizontal-stepper-header-container');\n\n      headerContainer?.prepend(this.headerTemplate);\n\n      const div = document.createElement('div');\n      div.classList.add('custom-line');\n      const linesCollection = document.getElementsByClassName('mat-stepper-horizontal-line');\n      linesCollection[0].appendChild(div);\n    }, 100)\n\n    this.stepsCount = this.document.getElementsByClassName('mat-horizontal-stepper-content').length;\n    this.stepsCountArray.length = this.stepsCount;\n    // this.getSteps()\n\n    this.activeComponent();\n  }\n\n  /* steps$: HTMLElement[] | undefined;\n\n  getSteps() {\n   this.steps$ = Array.from(this.document.getElementsByClassName('mat-horizontal-stepper-content')) as HTMLElement[];\n\n    from(this.steps$)\n      .subscribe((step: any ) => {\n        if(!step.classList.contains('mat-horizontal-stepper-content-inactive')) {\n          console.log(step)\n        }\n      })\n  } */\n\n  @ViewChild(CreateProjectComponent) project!: CreateProjectComponent;\n  @ViewChild(CreateBoardComponent) board!: CreateBoardComponent;\n  @ViewChild(CreateIssueTypesComponent) issue!: CreateIssueTypesComponent;\n  @ViewChild(AddUsersComponent) users!: AddUsersComponent;\n\n  activeIndex = 1; // shesacvleli iqneba tu davimaxsovrebt actiur steps refreshamde // localStorage\n  src: string[] = src;\n  srcIndex: number = 0;\n\n  getActiveStep(event: any) {\n    this.activeIndex = event.selectedIndex + 1;\n\n    Array.from(document.getElementsByClassName('counter')).forEach(item => {\n      item.setAttribute(\"style\", `transform: translateY(-${event.selectedIndex * 2}rem`);\n    })\n\n    Array.from(document.getElementsByClassName('description-1')).forEach(item => {\n      item.setAttribute(\"style\", `transform: translateX(-${event.selectedIndex * 100}%`);\n    })\n\n    const customLine = document.querySelector('.custom-line') as HTMLElement;\n    const label = document.querySelectorAll('.mat-step-label');\n    const linesCollection = document.getElementsByClassName('mat-stepper-horizontal-line');\n    const height = linesCollection[0].getBoundingClientRect().height\n    let index: number = 0;\n\n    this.bgImg.nativeElement.classList.add('img');\n\n    setTimeout(() => {\n      Array.from(label).forEach((lab, i) => {\n        if (lab.classList.contains('mat-step-label-selected')) {\n          setTimeout(() => {\n            this.srcIndex = i\n            setTimeout(() => {\n              this.bgImg.nativeElement.classList.remove('img');\n            }, 400)\n          }, 300)\n          index = i;\n        }\n      })\n      customLine.style.height = height * index + 30 * index + 'px';\n    }, 100)\n\n    this.activeComponent();\n  }\n\n  activeComponent() {\n    switch (this.activeIndex - 1) {\n      case 0:\n        this.project.projectComponent(0);\n        break\n      case 1:\n        this.board.boardComponent(1);\n        break\n      case 2:\n        this.issue.issueComponent(2);\n        break\n      case 3:\n        this.users.usersComponent(3);\n        break\n    }\n  }\n\n  stepperInfo = stepper;\n}\n","<!-- <button mat-raised-button (click)=\"isEditable = !isEditable\">\n  {{!isEditable ? 'Enable edit mode' : 'Disable edit mode'}}\n</button>\n\n-->\n<a routerLink=\"\">Home</a>\n<img [src]=\"src[srcIndex]\" alt=\"background\" #backgroundImg />\n\n<mat-stepper\n  #stepper\n  [linear]=\"linear | async\"\n  class=\"stepper\"\n  [selectedIndex]=\"nextStepOpen$ | async\"\n\n  (selectionChange)=\"getActiveStep($event)\"\n>\n  <mat-step [editable]=\"isEditable\">\n    <ng-template matStepLabel>Project</ng-template>\n    <app-create-project></app-create-project>\n  </mat-step>\n\n  <mat-step [editable]=\"isEditable\">\n    <ng-template matStepLabel>Board</ng-template>\n    <app-create-board></app-create-board>\n  </mat-step>\n\n  <mat-step [editable]=\"isEditable\">\n    <ng-template matStepLabel>Issue Type</ng-template>\n    <app-create-issue-types></app-create-issue-types>\n  </mat-step>\n\n  <mat-step [editable]=\"isEditable\">\n    <ng-template matStepLabel>Users</ng-template>\n    <app-add-users></app-add-users>\n  </mat-step>\n\n  <mat-step class=\"done\">\n    <div class=\"flex\">\n      <div class=\"margin-auto\">\n        <ng-template matStepLabel>Done</ng-template>\n        <p class=\"para\">Great, your project is now being created!</p>\n        <div>\n          <button mat-button matStepperPrevious (click)=\"goBack()\">Back</button>\n          <button mat-button (click)=\"stepper.reset()\">Reset</button>\n          <button mat-button matStepperNext routerLink=\"/application/current\" style=\"background-color: #303f9f;\">Finish</button>\n        </div>\n      </div>\n    </div>\n  </mat-step>\n</mat-stepper>\n\n<ng-template #header>\n  <div class=\"step-header\">\n    <h1>Step <span class=\"span\">\n      <span class=\"counter\" *ngFor=\"let step of stepsCountArray; let i = index\">\n        {{i + 1}}\n      </span>\n    </span></h1>\n    <div>\n      <p class=\"description-1\" *ngFor=\"let inf of stepperInfo\">\n        {{inf.description1}}\n      </p>\n    </div>\n  </div>\n</ng-template>\n\n<!-- [completed]=\"completed | async\" -->\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}