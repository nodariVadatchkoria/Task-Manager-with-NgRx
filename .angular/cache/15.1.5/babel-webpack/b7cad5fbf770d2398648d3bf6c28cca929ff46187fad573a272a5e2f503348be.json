{"ast":null,"code":"import { Subject, takeUntil } from \"rxjs\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../../core/services/project.service\";\nimport * as i2 from \"../../../facades/project-facade.service\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/router\";\nimport * as i5 from \"@angular/forms\";\nimport * as i6 from \"../side-menu/side-menu.component\";\nconst _c0 = [\"project\"];\nfunction ProjectComponent_option_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 11);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const project_r2 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", project_r2.id);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", project_r2.name, \" \");\n  }\n}\nexport class ProjectComponent {\n  constructor(projectService, projectFacade) {\n    this.projectService = projectService;\n    this.projectFacade = projectFacade;\n    this.projects = [];\n    this.projects$ = this.projectFacade.myProjects$;\n    this.currentProject = this.projectFacade.getProject();\n    this.sub$ = new Subject();\n    this.scrolledTop = false;\n    this.scrolled = false;\n  }\n  ngOnInit() {\n    // this.projectService.getAllProjects()\n    this.getMyProjects();\n  }\n  selectedProject(projectId) {\n    this.projectFacade.setProjectId(projectId);\n    setTimeout(() => {\n      location.reload();\n    }, 6000);\n  }\n  ngAfterViewInit() {\n    this.project.nativeElement.addEventListener('scroll', () => {\n      let firstElPos = this.project.nativeElement.firstChild.getBoundingClientRect().top;\n      firstElPos <= -10 ? this.scrolled = true : this.scrolled = false;\n      firstElPos <= -window.innerHeight ? this.scrolledTop = true : this.scrolledTop = false;\n      console.log(firstElPos);\n    });\n  }\n  clearLocalStorage() {\n    localStorage.removeItem('project');\n    localStorage.removeItem('board');\n    localStorage.removeItem('issueType');\n  }\n  getMyProjects() {\n    this.projectFacade.getMyProjects$().pipe(takeUntil(this.sub$)).subscribe();\n  }\n}\nProjectComponent.ɵfac = function ProjectComponent_Factory(t) {\n  return new (t || ProjectComponent)(i0.ɵɵdirectiveInject(i1.ProjectService), i0.ɵɵdirectiveInject(i2.ProjectFacade));\n};\nProjectComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ProjectComponent,\n  selectors: [[\"app-project\"]],\n  viewQuery: function ProjectComponent_Query(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵviewQuery(_c0, 5);\n    }\n    if (rf & 2) {\n      let _t;\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.project = _t.first);\n    }\n  },\n  decls: 17,\n  vars: 4,\n  consts: [[1, \"container\"], [\"project\", \"\"], [1, \"table-bordered\"], [3, \"ngModel\", \"ngModelChange\"], [\"selected\", \"\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [\"routerLink\", \"/application\"], [\"routerLink\", \"/stepper\", 3, \"click\"], [1, \"mainContent\"], [1, \"sidebar\"], [1, \"content\"], [3, \"value\"]],\n  template: function ProjectComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0, 1)(2, \"div\")(3, \"div\", 2);\n      i0.ɵɵtext(4, \" Select Project: \");\n      i0.ɵɵelementStart(5, \"select\", 3);\n      i0.ɵɵlistener(\"ngModelChange\", function ProjectComponent_Template_select_ngModelChange_5_listener($event) {\n        return ctx.selectedProject($event);\n      });\n      i0.ɵɵelement(6, \"option\", 4);\n      i0.ɵɵtemplate(7, ProjectComponent_option_7_Template, 2, 2, \"option\", 5);\n      i0.ɵɵpipe(8, \"async\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(9, \"button\", 6);\n      i0.ɵɵtext(10, \"Setting\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(11, \"button\", 7);\n      i0.ɵɵlistener(\"click\", function ProjectComponent_Template_button_click_11_listener() {\n        return ctx.clearLocalStorage();\n      });\n      i0.ɵɵtext(12, \"Add Project\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(13, \"div\", 8)(14, \"div\", 9);\n      i0.ɵɵelement(15, \"app-side-menu\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(16, \"div\", 10);\n      i0.ɵɵelementEnd()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngModel\", ctx.currentProject == null ? null : ctx.currentProject.id);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind1(8, 2, ctx.projects$));\n    }\n  },\n  dependencies: [i3.NgForOf, i4.RouterLink, i5.NgSelectOption, i5.ɵNgSelectMultipleOption, i5.SelectControlValueAccessor, i5.NgControlStatus, i5.NgModel, i6.SideMenuComponent, i3.AsyncPipe],\n  styles: [\".container[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:center;overflow-y:scroll;width:100%;height:100%;margin-bottom:15px;background-color:#f58181;border:1px solid #e0e0e0;border-radius:5px;box-shadow:0 0 10px #0000001a}.container[_ngcontent-%COMP%]   .addProjBtn[_ngcontent-%COMP%]{position:relative;margin-top:20px;margin-bottom:20px;width:100%;height:50px;background-color:#024ef1;color:#fff;border:none;border-radius:10px;font-size:16px;font-weight:500;cursor:pointer;transition:all .3s ease}.container[_ngcontent-%COMP%]   .addProjBtn[_ngcontent-%COMP%]:hover{transform:scale(1.05);background-color:#303f9f}.container[_ngcontent-%COMP%]   .mainContent[_ngcontent-%COMP%]{display:flex;justify-content:center;width:100%}.table-bordered[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:flex-start;justify-content:center;width:auto;height:100px;margin-bottom:1rem;color:#212529;position:absolute;top:150px;right:25px;font-size:20px;font-weight:500;z-index:0}@media screen and (max-width: 900px){.table-bordered[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:center;width:50%;height:50%;margin-bottom:1rem;color:#212529;position:absolute;top:15px;right:25px;font-size:20px;font-weight:500;z-index:0}}\"]\n});","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}